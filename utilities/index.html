<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>Utilities &mdash; Create Figma Plugin</title><meta name="description"content="The comprehensive toolkit for developing plugins and widgets for Figma and FigJam"><meta name="twitter:card"content="summary_large_image"><meta name="twitter:description"content="The comprehensive toolkit for developing plugins and widgets for Figma and FigJam"><meta name="twitter:image"content="/create-figma-plugin/media/share.png"><meta name="twitter:title"content="Utilities — Create Figma Plugin"><meta name="viewport"content="width=device-width,initial-scale=1"><meta property="og:description"content="The comprehensive toolkit for developing plugins and widgets for Figma and FigJam"><meta property="og:image"content="/create-figma-plugin/media/share.png"><meta property="og:title"content="Utilities — Create Figma Plugin"><link href="/create-figma-plugin/style.css"rel="stylesheet"><link rel="icon"href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cstyle%3E circle %7B fill: %23000; %7D @media (prefers-color-scheme: dark) %7B circle %7B fill: %23fff; %7D %7D %3C/style%3E%3Ccircle cx='50' cy='50' r='50' /%3E%3C/svg%3E%0A"></head><body class="page"><div class="page__skip-to-content"><a href="#content">Skip to content</a></div><header class="page__header"><h1 class="title"><a href="/create-figma-plugin/">Create Figma Plugin</a></h1><button class="menu-toggle-button"aria-expanded="false"><div class="menu-toggle-button__inner">Toggle menu</div></button><nav class="menu"><ul><li><a href="/create-figma-plugin/">Introduction</a></li><li><a href="/create-figma-plugin/quick-start/">Quick start</a></li><li><a href="/create-figma-plugin/configuration/">Configuration</a></li><li><a href="/create-figma-plugin/ui/">UI</a></li><li><a href="/create-figma-plugin/utilities/"class="menu__active">Utilities</a><div class="menu__toc"><ul><li><a href="#overview">Overview</a></li><li><a href="#color">Color</a><ul><li><a href="#converthexcolortorgbcolorhexcolor"><code>convertHexColorToRgbColor</code></a></li><li><a href="#convertnamedcolortohexcolornamedcolor"><code>convertNamedColorToHexColor</code></a></li><li><a href="#convertrgbcolortohexcolorrgbcolor"><code>convertRgbColorToHexColor</code></a></li><li><a href="#isvalidhexcolorhexcolor"><code>isValidHexColor</code></a></li></ul></li><li><a href="#events">Events</a><ul><li><a href="#emithandlername-args"><code>emit</code></a></li><li><a href="#onhandlername-handler"><code>on</code></a></li><li><a href="#oncehandlername-handler"><code>once</code></a></li></ul></li><li><a href="#monetization">Monetization</a><ul><li><a href="#getdocumentusecountkey"><code>getDocumentUseCount</code></a></li><li><a href="#gettotalusecountasynckey"><code>getTotalUseCountAsync</code></a></li><li><a href="#incrementdocumentusecountkey"><code>incrementDocumentUseCount</code></a></li><li><a href="#incrementtotalusecountasynckey"><code>incrementTotalUseCountAsync</code></a></li><li><a href="#resetdocumentusecountkey"><code>resetDocumentUseCount</code></a></li><li><a href="#resettotalusecountasynckey"><code>resetTotalUseCountAsync</code></a></li><li><a href="#validategumroadlicensekeymainasyncoptions"><code>validateGumroadLicenseKeyMainAsync</code></a></li><li><a href="#validategumroadlicensekeyuiasyncoptions"><code>validateGumroadLicenseKeyUiAsync</code></a></li></ul></li><li><a href="#node">Node</a><ul><li><a href="#aresiblingnodesnodes"><code>areSiblingNodes</code></a></li><li><a href="#collapselayernode"><code>collapseLayer</code></a></li><li><a href="#computeboundingboxnode"><code>computeBoundingBox</code></a></li><li><a href="#computemaximumboundsnodes"><code>computeMaximumBounds</code></a></li><li><a href="#computesiblingnodesnodenodes"><code>computeSiblingNodes</code></a></li><li><a href="#createimagepaintbytes"><code>createImagePaint</code></a></li><li><a href="#deduplicatenodesnodenodes"><code>deduplicateNodes</code></a></li><li><a href="#getabsolutepositionnode"><code>getAbsolutePosition</code></a></li><li><a href="#getdocumentcomponents"><code>getDocumentComponents</code></a></li><li><a href="#getparentnodenode"><code>getParentNode</code></a></li><li><a href="#getscenenodebyidnodeid"><code>getSceneNodeById</code></a></li><li><a href="#getselectednodesorallnodes"><code>getSelectedNodesOrAllNodes</code></a></li><li><a href="#insertafternodenode-referencenode"><code>insertAfterNode</code></a></li><li><a href="#insertbeforenodenode-referencenode"><code>insertBeforeNode</code></a></li><li><a href="#islockednode"><code>isLocked</code></a></li><li><a href="#isvisiblenode"><code>isVisible</code></a></li><li><a href="#iswithininstancenodenode"><code>isWithinInstanceNode</code></a></li><li><a href="#loadfontsasyncnodes"><code>loadFontsAsync</code></a></li><li><a href="#setabsolutepositionnode-vector"><code>setAbsolutePosition</code></a></li><li><a href="#setrelaunchbuttonnode-relaunchbuttonid--options"><code>setRelaunchButton</code></a></li><li><a href="#sortnodesbycanonicalordernodesiblingnodes"><code>sortNodesByCanonicalOrder</code></a></li><li><a href="#sortnodesbynamenodenodes"><code>sortNodesByName</code></a></li><li><a href="#traversenodenode-processnode--stoptraversal"><code>traverseNode</code></a></li><li><a href="#traversenodeasyncnode-processnodeasync--stoptraversalasync"><code>traverseNodeAsync</code></a></li><li><a href="#unsetrelaunchbuttonnode--relaunchbuttonid"><code>unsetRelaunchButton</code></a></li><li><a href="#updatenodessortordersiblingnodes"><code>updateNodesSortOrder</code></a></li></ul></li><li><a href="#number">Number</a><ul><li><a href="#evaluatenumericexpressionvalue"><code>evaluateNumericExpression</code></a></li><li><a href="#isvalidnumericinputvalue--options"><code>isValidNumericInput</code></a></li></ul></li><li><a href="#object">Object</a><ul><li><a href="#cloneobjecttobject"><code>cloneObject</code></a></li><li><a href="#compareobjectsa-b"><code>compareObjects</code></a></li><li><a href="#comparestringarraysa-b"><code>compareStringArrays</code></a></li><li><a href="#deduplicatearraytarray"><code>deduplicateArray</code></a></li><li><a href="#extractattributesplainobject-keyarray-attributes"><code>extractAttributes</code></a></li></ul></li><li><a href="#settings">Settings</a><ul><li><a href="#loadsettingsasyncsettingsdefaultsettings--settingskey"><code>loadSettingsAsync</code></a></li><li><a href="#savesettingsasyncsettingssettings--settingskey"><code>saveSettingsAsync</code></a></li></ul></li><li><a href="#string">String</a><ul><li><a href="#formaterrormessagemessage"><code>formatErrorMessage</code></a></li><li><a href="#formatsuccessmessagemessage"><code>formatSuccessMessage</code></a></li><li><a href="#formatwarningmessagemessage"><code>formatWarningMessage</code></a></li><li><a href="#pluralizenumber-singular--plural"><code>pluralize</code></a></li></ul></li><li><a href="#ui">UI</a><ul><li><a href="#showuidataoptions--data"><code>showUI</code></a></li></ul></li></ul></div></li><li><a href="/create-figma-plugin/recipes/">Recipes</a></li><li><a href="/create-figma-plugin/reference-plugins-and-widgets/">Reference plugins/widgets</a></li></ul><ul><li><a href="/create-figma-plugin/storybook/"target="_blank">Storybook</a></li><li><a href="https://github.com/yuanqing/create-figma-plugin/blob/main/CHANGELOG.md#readme"target="_blank">Changelog</a></li><li><a href="https://github.com/yuanqing/create-figma-plugin"target="_blank">GitHub</a></li><li><a href="https://twitter.com/yuanqinglim"target="_blank">@yuanqinglim</a></li></ul><ul><li><a href="https://figma.com/plugin-docs/"target="_blank">Plugin API docs</a></li><li><a href="https://figma.com/widget-docs/"target="_blank">Widget API docs</a></li></ul><div class="menu__version">v1.8.2-alpha.0</div></nav></header><main role="main"class="page__main"><div class="page__main-inner"><div class="content"id="content"><h1 id="utilities">Utilities</h1><h2 id="overview">Overview<a aria-hidden class="content__header-link"tabindex="-1"href="#overview">#</a></h2><p><code>@create-figma-plugin/utilities</code> is a library of utility functions for common Figma/FigJam plugin/widget operations. It is meant to complement the Figma/FigJam <a href="https://figma.com/plugin-docs/api/api-reference/"target="_blank">plugin API</a> and <a href="https://figma.com/widget-docs/api/api-reference/"target="_blank">widget API</a>.</p><p>To install:</p><pre><code>$ npm install @create-figma-plugin/utilities
</code></pre><p>When used with the <code>build-figma-plugin</code> CLI, only the functions explicitly imported by your plugin/widget will be included in the generated JavaScript bundle(s).</p><h2 id="color">Color<a aria-hidden class="content__header-link"tabindex="-1"href="#color">#</a></h2><pre><code class="hljs language-ts"><span class="hljs-keyword">import</span> {
  convertHexColorToRgbColor,
  convertNamedColorToHexColor,
  convertRgbColorToHexColor,
  isValidHexColor
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@create-figma-plugin/utilities'</span>
</code></pre><h3 id="converthexcolortorgbcolorhexcolor"><code>convertHexColorToRgbColor(hexColor)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#converthexcolortorgbcolorhexcolor">#</a></h3><p>Converts the given <code>hexColor</code> (eg. <code>000000</code>) to RGB format (eg. <code>{ r: 0, g: 0, b: 0 }</code>). Each value in the returned <a href="https://figma.com/plugin-docs/api/RGB/"target="_blank">RGB</a> plain object is between <code>0</code> and <code>1</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>hexColor</code> (<code>string</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns an <a href="https://figma.com/plugin-docs/api/RGB/"target="_blank">RGB</a> plain object, else <code>null</code> if <code>hexColor</code> was invalid.</p><pre><code>null | RGB
</code></pre><h3 id="convertnamedcolortohexcolornamedcolor"><code>convertNamedColorToHexColor(namedColor)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#convertnamedcolortohexcolornamedcolor">#</a></h3><p>Converts the given <code>namedColor</code> (eg. <code>black</code>) to hexadecimal format (eg. <code>000000</code>).</p><p><em><strong>Parameters</strong></em></p><ul><li><code>namedColor</code> (<code>string</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns a hexadecimal color as an uppercase string, else <code>null</code> if <code>namedColor</code> was invalid.</p><pre><code>null | string
</code></pre><h3 id="convertrgbcolortohexcolorrgbcolor"><code>convertRgbColorToHexColor(rgbColor)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#convertrgbcolortohexcolorrgbcolor">#</a></h3><p>Converts the given <code>rgbColor</code> (eg. <code>{ r: 0, g: 0, b: 0 }</code>) to hexadecimal format (eg. <code>000000</code>). Each value in the given <a href="https://figma.com/plugin-docs/api/RGB/"target="_blank">RGB</a> plain object must be between <code>0</code> and <code>1</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>rgbColor</code> (<code>RGB</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns a hexadecimal color as an uppercase string, else <code>null</code> if <code>rgbColor</code> was invalid.</p><pre><code>null | string
</code></pre><h3 id="isvalidhexcolorhexcolor"><code>isValidHexColor(hexColor)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#isvalidhexcolorhexcolor">#</a></h3><p>Returns <code>true</code> if <code>hexColor</code> is a valid hexadecimal color.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>hexColor</code> (<code>string</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>boolean
</code></pre><h2 id="events">Events<a aria-hidden class="content__header-link"tabindex="-1"href="#events">#</a></h2><pre><code class="hljs language-ts"><span class="hljs-keyword">import</span> {
  emit,
  on,
  once
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@create-figma-plugin/utilities'</span>
</code></pre><h3 id="emithandlername-args"><code>emit&#x3C;Handler>(name, ...args)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#emithandlername-args">#</a></h3><p>Calling <code>emit</code> in the <a href="https://figma.com/plugin-docs/how-plugins-run/"target="_blank">main context</a> invokes the event handler for the matching event <code>name</code> in your UI. Correspondingly, calling <code>emit</code> in your UI invokes the event handler for the matching event <code>name</code> in the main context.</p><p>All <code>args</code> passed after <code>name</code> will be directly <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply"target="_blank">applied</a> on the event handler.</p><p>See the <a href="/create-figma-plugin/recipes/#passing-data-between-the-pluginwidgets-main-and-ui-contexts">recipe for passing data between the main and UI contexts</a>.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Handler</code> (<code>EventHandler</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>name</code> (<code>Handler["name"]</code>)</li><li><code>args</code> (<code>Parameters&#x3C;Handler["handler"]></code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>void
</code></pre><h3 id="onhandlername-handler"><code>on&#x3C;Handler>(name, handler)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#onhandlername-handler">#</a></h3><p>Registers an event <code>handler</code> for the given event <code>name</code>.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Handler</code> (<code>EventHandler</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>name</code> (<code>Handler['name']</code>)</li><li><code>handler</code> (<code>Handler['handler']</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns a function for deregistering the <code>handler</code>.</p><pre><code>() => void
</code></pre><h3 id="oncehandlername-handler"><code>once&#x3C;Handler>(name, handler)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#oncehandlername-handler">#</a></h3><p>Registers an event <code>handler</code> that will run at most once for the given event <code>name</code>.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Handler</code> (<code>EventHandler</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>name</code> (<code>Handler['name']</code>)</li><li><code>handler</code> (<code>Handler['handler']</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns a function for deregistering the <code>handler</code>.</p><pre><code>() => void
</code></pre><h2 id="monetization">Monetization<a aria-hidden class="content__header-link"tabindex="-1"href="#monetization">#</a></h2><pre><code class="hljs language-ts"><span class="hljs-keyword">import</span> {
  getDocumentUseCount,
  getTotalUseCountAsync,
  incrementDocumentUseCount,
  incrementTotalUseCountAsync,
  resetDocumentUseCount,
  resetTotalUseCountAsync,
  validateGumroadLicenseKeyMainAsync,
  validateGumroadLicenseKeyUiAsync
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@create-figma-plugin/utilities'</span>
</code></pre><h3 id="getdocumentusecountkey"><code>getDocumentUseCount([key])</code><a aria-hidden class="content__header-link"tabindex="-1"href="#getdocumentusecountkey">#</a></h3><p>Returns the plugin’s use count for the current document.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>key</code> (<code>string</code>) – <em>Optional.</em> The key on the current document on which to store the use count. Defaults to <code>'documentUseCount'</code>.</li></ul><p><em><strong>Return type</strong></em></p><pre><code>number
</code></pre><h3 id="gettotalusecountasynckey"><code>getTotalUseCountAsync([key])</code><a aria-hidden class="content__header-link"tabindex="-1"href="#gettotalusecountasynckey">#</a></h3><p>Returns the plugin’s total use count.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>key</code> (<code>string</code>) – <em>Optional.</em> The key in <a href="https://figma.com/plugin-docs/api/figma-clientStorage/"target="_blank"><code>figma.clientStorage</code></a> on which to store the use count. Defaults to <code>'totalUseCount'</code>.</li></ul><p><em><strong>Return type</strong></em></p><pre><code>Promise&#x3C;number>
</code></pre><h3 id="incrementdocumentusecountkey"><code>incrementDocumentUseCount([key])</code><a aria-hidden class="content__header-link"tabindex="-1"href="#incrementdocumentusecountkey">#</a></h3><p>Increments the plugin’s use count for the current document.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>key</code> (<code>string</code>) – <em>Optional.</em> The key on the current document on which to store the use count. Defaults to <code>'documentUseCount'</code>.</li></ul><p><em><strong>Return type</strong></em></p><p>Returns the plugin’s new use count for the current document.</p><pre><code>number
</code></pre><h3 id="incrementtotalusecountasynckey"><code>incrementTotalUseCountAsync([key])</code><a aria-hidden class="content__header-link"tabindex="-1"href="#incrementtotalusecountasynckey">#</a></h3><p>Increments the plugin’s total use count.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>key</code> (<code>string</code>) – <em>Optional.</em> The key in <a href="https://figma.com/plugin-docs/api/figma-clientStorage/"target="_blank"><code>figma.clientStorage</code></a> on which to store the use count. Defaults to <code>'totalUseCount'</code>.</li></ul><p><em><strong>Return type</strong></em></p><p>Returns the plugin’s new total use count.</p><pre><code>Promise&#x3C;number>
</code></pre><h3 id="resetdocumentusecountkey"><code>resetDocumentUseCount([key])</code><a aria-hidden class="content__header-link"tabindex="-1"href="#resetdocumentusecountkey">#</a></h3><p>Resets the plugin’s use count for the current document to <code>0</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>key</code> (<code>string</code>) – <em>Optional.</em> The key on the current document on which to store the use count. Defaults to <code>'documentUseCount'</code>.</li></ul><p><em><strong>Return type</strong></em></p><pre><code>void
</code></pre><h3 id="resettotalusecountasynckey"><code>resetTotalUseCountAsync([key])</code><a aria-hidden class="content__header-link"tabindex="-1"href="#resettotalusecountasynckey">#</a></h3><p>Resets the plugin’s total use count to <code>0</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>key</code> (<code>string</code>) – <em>Optional.</em> The key in <a href="https://figma.com/plugin-docs/api/figma-clientStorage/"target="_blank"><code>figma.clientStorage</code></a> on which to store the use count. Defaults to <code>'totalUseCount'</code>.</li></ul><p><em><strong>Return type</strong></em></p><pre><code>Promise&#x3C;void>
</code></pre><h3 id="validategumroadlicensekeymainasyncoptions"><code>validateGumroadLicenseKeyMainAsync(options)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#validategumroadlicensekeymainasyncoptions">#</a></h3><p>Validates the given <a href="https://help.gumroad.com/article/76-license-keys"target="_blank">Gumroad license key</a> for the product with the given <code>productPermalink</code> in the <a href="https://figma.com/plugin-docs/how-plugins-run/"target="_blank">main context</a>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>options</code> (<code>object</code>)<ul><li><code>incrementUseCount</code> (<code>boolean</code>) – <em>Optional.</em> Set to <code>true</code> to increment the license key use count tracked by Gumroad. Defaults to <code>false</code>.</li><li><code>licenseKey</code> (<code>string</code>) – The Gumroad license key to validate.</li><li><code>productPermalink</code> (<code>string</code>) – The Gumroad “product permalink”. If the Gumroad product URL is <code>https://gumroad.com/l/QGMY</code>, then the product permalink is <code>'QGMY'</code>.</li></ul></li></ul><p><em><strong>Return type</strong></em></p><p>Returns a <a href="https://github.com/yuanqing/create-figma-plugin/blob/main/packages/utilities/src/monetization/types.ts"target="_blank"><code>LicenseKeyValidationResult</code></a> object.</p><pre><code>Promise&#x3C;LicenseKeyValidationResult>
</code></pre><h3 id="validategumroadlicensekeyuiasyncoptions"><code>validateGumroadLicenseKeyUiAsync(options)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#validategumroadlicensekeyuiasyncoptions">#</a></h3><p>Validates the given <a href="https://help.gumroad.com/article/76-license-keys"target="_blank">Gumroad license key</a> for the product with the given <code>productPermalink</code> in the <a href="https://figma.com/plugin-docs/how-plugins-run/"target="_blank">UI context</a>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>options</code> (<code>object</code>)<ul><li><code>incrementUseCount</code> (<code>boolean</code>) – <em>Optional.</em> Set to <code>true</code> to increment the license key use count tracked by Gumroad. Defaults to <code>false</code>.</li><li><code>licenseKey</code> (<code>string</code>) – The Gumroad license key to validate.</li><li><code>productPermalink</code> (<code>string</code>) – The Gumroad “product permalink”. If the Gumroad product URL is <code>https://gumroad.com/l/QGMY</code>, then the product permalink is <code>'QGMY'</code>.</li></ul></li></ul><p><em><strong>Return type</strong></em></p><p>Returns a <a href="https://github.com/yuanqing/create-figma-plugin/blob/main/packages/utilities/src/monetization/types.ts"target="_blank"><code>LicenseKeyValidationResult</code></a> object.</p><pre><code>Promise&#x3C;LicenseKeyValidationResult>
</code></pre><h2 id="node">Node<a aria-hidden class="content__header-link"tabindex="-1"href="#node">#</a></h2><pre><code class="hljs language-ts"><span class="hljs-keyword">import</span> {
  areSiblingNodes,
  collapseLayer,
  computeBoundingBox,
  computeMaximumBounds,
  computeSiblingNodes,
  createImagePaint,
  deduplicateNodes,
  getAbsolutePosition,
  getDocumentComponents,
  getParentNode,
  getSceneNodeById,
  getSelectedNodesOrAllNodes,
  insertAfterNode,
  insertBeforeNode,
  isLocked,
  isVisible,
  isWithinInstanceNode,
  loadFontsAsync,
  setAbsolutePosition,
  setRelaunchButton,
  sortNodesByCanonicalOrder,
  sortNodesByName,
  traverseNode,
  traverseNodeAsync,
  unsetRelaunchButton,
  updateNodesSortOrder
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@create-figma-plugin/utilities'</span>
</code></pre><h3 id="aresiblingnodesnodes"><code>areSiblingNodes(nodes)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#aresiblingnodesnodes">#</a></h3><p>Checks if all nodes in <code>nodes</code> are sibling nodes.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>nodes</code> (<code>Array&#x3C;SceneNode></code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns <code>true</code> if all nodes in <code>nodes</code> are sibling nodes, else <code>false</code>.</p><pre><code>boolean
</code></pre><h3 id="collapselayernode"><code>collapseLayer(node)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#collapselayernode">#</a></h3><p>Collapses <code>node</code> and all its child nodes in the layer list.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns <code>true</code> if at least one layer in the layer list was collapsed by the function, else <code>false</code>.</p><pre><code>boolean
</code></pre><h3 id="computeboundingboxnode"><code>computeBoundingBox(node)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#computeboundingboxnode">#</a></h3><p>Computes the coordinates (<code>x</code>, <code>y</code>) and dimensions (<code>width</code>, <code>height</code>) of the smallest bounding box that contains the given <code>node</code>. (Does not account for strokes or effects that could extend beyond the node’s bounding box.)</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns the bounding box as a <a href="https://figma.com/plugin-docs/api/Rect/"target="_blank"><code>Rect</code></a>.</p><pre><code>Rect
</code></pre><h3 id="computemaximumboundsnodes"><code>computeMaximumBounds(nodes)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#computemaximumboundsnodes">#</a></h3><p>Computes the absolute coordinates of the top-left and bottom-right corners of the smallest bounding box that contains the given <code>nodes</code>. (Does not account for strokes or effects that could extend beyond the nodes’ bounding box.)</p><p><em><strong>Parameters</strong></em></p><ul><li><code>nodes</code> (<code>Array&#x3C;SceneNode></code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns an array of two <a href="https://figma.com/plugin-docs/api/Vector/"target="_blank"><code>Vector</code></a> objects, one for the top-left corner and another for the bottom-right corner.</p><pre><code>[Vector, Vector]
</code></pre><h3 id="computesiblingnodesnodenodes"><code>computeSiblingNodes&#x3C;Node>(nodes)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#computesiblingnodesnodenodes">#</a></h3><p>Splits <code>nodes</code> into groups of sibling nodes.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>nodes</code> (<code>Array&#x3C;Node></code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns an array of array of sibling <code>SceneNode</code> objects.</p><pre><code>Array&#x3C;Array&#x3C;Node>>
</code></pre><h3 id="createimagepaintbytes"><code>createImagePaint(bytes)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#createimagepaintbytes">#</a></h3><p>Creates an <a href="https://figma.com/plugin-docs/api/Paint/#imagepaint"target="_blank"><code>ImagePaint</code></a> object from the <code>bytes</code> of an image.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>bytes</code> (<code>Uint8Array</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>ImagePaint
</code></pre><h3 id="deduplicatenodesnodenodes"><code>deduplicateNodes&#x3C;Node>(nodes)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#deduplicatenodesnodenodes">#</a></h3><p>Returns the result of deduplicating the nodes in <code>nodes</code>. Does not modify the original <code>nodes</code> array.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>nodes</code> (<code>Array&#x3C;Node></code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns a new array of unique <code>SceneNode</code> objects.</p><pre><code>Array&#x3C;Node>
</code></pre><h3 id="getabsolutepositionnode"><code>getAbsolutePosition(node)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#getabsolutepositionnode">#</a></h3><p>Returns the <code>x</code> and <code>y</code> position of the given <code>node</code> relative to the page.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns a <a href="https://figma.com/plugin-docs/api/Vector/"target="_blank"><code>Vector</code></a>.</p><pre><code>Vector
</code></pre><h3 id="getdocumentcomponents"><code>getDocumentComponents()</code><a aria-hidden class="content__header-link"tabindex="-1"href="#getdocumentcomponents">#</a></h3><p>Returns all the local Components in the current document.</p><p><em><strong>Return type</strong></em></p><pre><code>Array&#x3C;ComponentNode>
</code></pre><h3 id="getparentnodenode"><code>getParentNode(node)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#getparentnodenode">#</a></h3><p>Returns the parent node of the given <code>node</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>BaseNode</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Throws an error if <code>node.parent</code> is <code>null</code>, else returns <code>node.parent</code>.</p><pre><code>BaseNode &#x26; ChildrenMixin
</code></pre><h3 id="getscenenodebyidnodeid"><code>getSceneNodeById&#x3C;Node>(id)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#getscenenodebyidnodeid">#</a></h3><p>Returns the <code>SceneNode</code> in the current document with the given <code>id</code>. This is a convenience function that wraps the <a href="https://figma.com/plugin-docs/api/figma/#getnodebyid"target="_blank"><code>figma.getNodeById</code></a> function.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>id</code> (<code>string</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Throws an error if no <code>SceneNode</code> with the given <code>id</code> exists, else returns the node cast to the specified <code>Node</code> type parameter.</p><pre><code>Node
</code></pre><h3 id="getselectednodesorallnodes"><code>getSelectedNodesOrAllNodes()</code><a aria-hidden class="content__header-link"tabindex="-1"href="#getselectednodesorallnodes">#</a></h3><p>Returns the selected nodes, or all the top-level nodes on the current page if no nodes are selected.</p><p><em><strong>Return type</strong></em></p><pre><code>Array&#x3C;SceneNode>
</code></pre><h3 id="insertafternodenode-referencenode"><code>insertAfterNode(node, referenceNode)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#insertafternodenode-referencenode">#</a></h3><p>Inserts <code>node</code> <em>after</em> the <code>referenceNode</code> in the layer list.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li><li><code>referenceNode</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>void
</code></pre><h3 id="insertbeforenodenode-referencenode"><code>insertBeforeNode(node, referenceNode)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#insertbeforenodenode-referencenode">#</a></h3><p>Inserts <code>node</code> <em>before</em> the <code>referenceNode</code> in the layer list.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li><li><code>referenceNode</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>void
</code></pre><h3 id="islockednode"><code>isLocked(node)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#islockednode">#</a></h3><p>Checks if the given <code>node</code> is locked.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns <code>true</code> if the <code>node</code> or one of its parent nodes is locked, else <code>false</code>.</p><pre><code>boolean
</code></pre><h3 id="isvisiblenode"><code>isVisible(node)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#isvisiblenode">#</a></h3><p>Checks if the given <code>node</code> is visible.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns <code>true</code> if the <code>node</code> and all its parent nodes are visible, else <code>false</code>.</p><pre><code>boolean
</code></pre><h3 id="iswithininstancenodenode"><code>isWithinInstanceNode(node)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#iswithininstancenodenode">#</a></h3><p>Checks if the given <code>node</code> is within an Instance node.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns <code>true</code> if the <code>node</code> is within an Instance node, else <code>false</code>.</p><pre><code>boolean
</code></pre><h3 id="loadfontsasyncnodes"><code>loadFontsAsync(nodes)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#loadfontsasyncnodes">#</a></h3><p>Loads the fonts used in all the text nodes within the <code>nodes</code> array. <a href="https://figma.com/plugin-docs/api/TextNode/#loading-fonts"target="_blank">This function must be called before modifying any property of a text node that may cause the rendered text to change.</a></p><p><em><strong>Parameters</strong></em></p><ul><li><code>nodes</code> (<code>Array&#x3C;SceneNode></code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>Promise&#x3C;void>
</code></pre><h3 id="setabsolutepositionnode-vector"><code>setAbsolutePosition(node, vector)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#setabsolutepositionnode-vector">#</a></h3><p>Moves the <code>node</code> to the given <code>x</code> and <code>y</code> position relative to the page. At least one of <code>x</code> or <code>y</code> of <code>vector</code> must be specified.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li><li><code>vector</code> (<code>Partial&#x3C;Vector></code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>void
</code></pre><h3 id="setrelaunchbuttonnode-relaunchbuttonid--options"><code>setRelaunchButton(node, relaunchButtonId [, options])</code><a aria-hidden class="content__header-link"tabindex="-1"href="#setrelaunchbuttonnode-relaunchbuttonid--options">#</a></h3><p>Sets a <a href="https://figma.com/plugin-docs/api/properties/nodes-setrelaunchdata/"target="_blank">relaunch button</a> on <code>node</code> for the command with the given <code>relaunchButtonId</code> as configured under the <a href="/create-figma-plugin/configuration/#relaunchbuttons"><strong><code>"relaunchButtons"</code></strong></a> key in <code>package.json</code>. Any relaunch buttons set previously will be retained.</p><p>See the <a href="/create-figma-plugin/recipes/#configuring-relaunch-buttons">recipe for configuring relaunch buttons</a>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>BaseNode</code>)</li><li><code>relaunchButtonId</code> (<code>string</code>)</li><li><code>options</code> (<code>object</code>) – <em>Optional.</em><ul><li><code>description</code> (<code>string</code>) – The text to display below the relaunch button in the Figma UI.</li></ul></li></ul><p><em><strong>Return type</strong></em></p><pre><code>void
</code></pre><h3 id="sortnodesbycanonicalordernodesiblingnodes"><code>sortNodesByCanonicalOrder&#x3C;Node>(siblingNodes)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#sortnodesbycanonicalordernodesiblingnodes">#</a></h3><p>Sorts <code>siblingNodes</code> according to their layer list order. Does not modify the original <code>siblingNodes</code> array.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>siblingNodes</code> (<code>Array&#x3C;Node></code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns a new array of <code>SceneNode</code> objects.</p><pre><code>Array&#x3C;Node>
</code></pre><h3 id="sortnodesbynamenodenodes"><code>sortNodesByName&#x3C;Node>(nodes)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#sortnodesbynamenodenodes">#</a></h3><p>Sorts <code>nodes</code> in alphabetical order. Does not modify the original <code>nodes</code> array.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Node</code> (<code>SceneNode</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>nodes</code> (<code>Array&#x3C;Node></code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns a new array of <code>SceneNode</code> objects.</p><pre><code>Array&#x3C;Node>
</code></pre><h3 id="traversenodenode-processnode--stoptraversal"><code>traverseNode(node, processNode [, stopTraversal])</code><a aria-hidden class="content__header-link"tabindex="-1"href="#traversenodenode-processnode--stoptraversal">#</a></h3><p>Traverses <code>node</code> and its child nodes recursively in a <em>depth-first</em> manner, passing each node to the specified <code>processNode</code> callback.</p><p>Each node is also passed to a <code>stopTraversal</code> function. If you return <code>true</code> in <code>stopTraversal</code> for a particular node, then its child nodes will not be traversed.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li><li><code>processNode</code> (<code>(node: SceneNode) => void</code>)</li><li><code>stopTraversal</code> (<code>(node: SceneNode) => boolean</code>) – <em>Optional.</em></li></ul><p><em><strong>Return type</strong></em></p><pre><code>void
</code></pre><h3 id="traversenodeasyncnode-processnodeasync--stoptraversalasync"><code>traverseNodeAsync(node, processNodeAsync [, stopTraversalAsync])</code><a aria-hidden class="content__header-link"tabindex="-1"href="#traversenodeasyncnode-processnodeasync--stoptraversalasync">#</a></h3><p>An <code>async</code> version of <a href="#traversenodenode-processnode--stoptraversal"><code>traverseNode</code></a>, in which both callbacks are <code>async</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>SceneNode</code>)</li><li><code>processNodeAsync</code> (<code>(node: SceneNode) => Promise&#x3C;void></code>)</li><li><code>stopTraversalAsync</code> (<code>(node: SceneNode) => Promise&#x3C;boolean></code>) – <em>Optional.</em></li></ul><p><em><strong>Return type</strong></em></p><pre><code>Promise&#x3C;void>
</code></pre><h3 id="unsetrelaunchbuttonnode--relaunchbuttonid"><code>unsetRelaunchButton(node [, relaunchButtonId])</code><a aria-hidden class="content__header-link"tabindex="-1"href="#unsetrelaunchbuttonnode--relaunchbuttonid">#</a></h3><p>Unsets the <a href="https://figma.com/plugin-docs/api/properties/nodes-setrelaunchdata/"target="_blank">relaunch button</a> on <code>node</code> for the command with the given <code>relaunchButtonId</code>. If <code>relaunchButtonId</code> is not specified, unsets all relaunch buttons on <code>node</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>node</code> (<code>BaseNode</code>)</li><li><code>relaunchButtonId</code> (<code>string</code>) – <em>Optional.</em></li></ul><p><em><strong>Return type</strong></em></p><pre><code>void
</code></pre><h3 id="updatenodessortordersiblingnodes"><code>updateNodesSortOrder(siblingNodes)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#updatenodessortordersiblingnodes">#</a></h3><p>Updates the layer list sort order to follow the sort order of the nodes in the <code>siblingNodes</code> array. Does not modify the original <code>siblingNodes</code> array.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>siblingNodes</code> (<code>Array&#x3C;SceneNode></code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns <code>true</code> if the layer list sort order was changed by the function, else <code>false</code>.</p><pre><code>boolean
</code></pre><h2 id="number">Number<a aria-hidden class="content__header-link"tabindex="-1"href="#number">#</a></h2><pre><code class="hljs language-ts"><span class="hljs-keyword">import</span> {
  evaluateNumericExpression,
  isValidNumericInput
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@create-figma-plugin/utilities'</span>
</code></pre><h3 id="evaluatenumericexpressionvalue"><code>evaluateNumericExpression(value)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#evaluatenumericexpressionvalue">#</a></h3><p>Evaluates the given numeric <code>expression</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>value</code> (<code>string</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns the result of evaluating the given numeric <code>expression</code>, else <code>null</code> for an invalid expression.</p><pre><code>null | number
</code></pre><h3 id="isvalidnumericinputvalue--options"><code>isValidNumericInput(value [, options])</code><a aria-hidden class="content__header-link"tabindex="-1"href="#isvalidnumericinputvalue--options">#</a></h3><p>Checks if <code>value</code> is a numeric expression, as input by a user. “Partial” inputs are considered valid.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>value</code> (<code>string</code>)</li><li><code>options</code> (<code>object</code>) – <em>Optional.</em><ul><li><code>integersOnly</code> (<code>boolean</code>) – Set to <code>true</code> to check that the expression contains only integers. Defaults to <code>false</code>.</li></ul></li></ul><p><em><strong>Return type</strong></em></p><p>Returns <code>true</code> if <code>value</code> is a valid numeric expression, else <code>false</code>.</p><pre><code>boolean
</code></pre><h2 id="object">Object<a aria-hidden class="content__header-link"tabindex="-1"href="#object">#</a></h2><pre><code class="hljs language-ts"><span class="hljs-keyword">import</span> {
  cloneObject,
  compareObjects,
  compareStringArrays,
  deduplicateArray,
  extractAttributes
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@create-figma-plugin/utilities'</span>
</code></pre><h3 id="cloneobjecttobject"><code>cloneObject&#x3C;T>(object)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#cloneobjecttobject">#</a></h3><p>Creates a deep copy of the given object.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>T</code></li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>object</code> (<code>T</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>T
</code></pre><h3 id="compareobjectsa-b"><code>compareObjects(a, b)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#compareobjectsa-b">#</a></h3><p>Performs a <em>deep</em> equality comparison of objects <code>a</code> and <code>b</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>a</code> (<code>any</code>)</li><li><code>b</code> (<code>any</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns <code>true</code> if <code>a</code> and <code>b</code> are the same, else <code>false</code>.</p><pre><code>boolean
</code></pre><h3 id="comparestringarraysa-b"><code>compareStringArrays(a, b)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#comparestringarraysa-b">#</a></h3><p>Compares the string arrays <code>a</code> and <code>b</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>a</code> (<code>Array&#x3C;string></code>)</li><li><code>b</code> (<code>Array&#x3C;string></code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns <code>true</code> if <code>a</code> and <code>b</code> are the same, else <code>false</code>.</p><pre><code>boolean
</code></pre><h3 id="deduplicatearraytarray"><code>deduplicateArray&#x3C;T>(array)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#deduplicatearraytarray">#</a></h3><p>Returns the result of deduplicating the given <code>array</code>. Does not modify the original <code>array</code>.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>T</code> (<code>boolean | number | string</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>array</code> (<code>Array&#x3C;T></code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns a new array with unique values.</p><pre><code>Array&#x3C;T>
</code></pre><h3 id="extractattributesplainobject-keyarray-attributes"><code>extractAttributes&#x3C;PlainObject, Key>(array, attributes)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#extractattributesplainobject-keyarray-attributes">#</a></h3><p>Extracts the specified list of <code>attributes</code> from the given <code>array</code> of plain objects.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>PlainObject</code></li><li><code>Key</code> (<code>keyof PlainObject</code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>array</code> (<code>Array&#x3C;PlainObject></code>)</li><li><code>attributes</code> (<code>Key[]</code>)</li></ul><p><em><strong>Return type</strong></em></p><p>Returns an array of plain objects.</p><pre><code>Array&#x3C;Pick&#x3C;PlainObject, Key>>
</code></pre><h2 id="settings">Settings<a aria-hidden class="content__header-link"tabindex="-1"href="#settings">#</a></h2><pre><code class="hljs language-ts"><span class="hljs-keyword">import</span> {
  loadSettingsAsync,
  saveSettingsAsync
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@create-figma-plugin/utilities'</span>
</code></pre><h3 id="loadsettingsasyncsettingsdefaultsettings--settingskey"><code>loadSettingsAsync&#x3C;Settings>(defaultSettings [, settingsKey])</code><a aria-hidden class="content__header-link"tabindex="-1"href="#loadsettingsasyncsettingsdefaultsettings--settingskey">#</a></h3><p>Loads your plugin/widget’s settings (stored locally on the user’s computer under the given <code>settingsKey</code>).</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Settings</code></li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>defaultSettings</code> (<code>Settings</code>)</li><li><code>settingsKey</code> (<code>string</code>) – <em>Optional.</em> The key in <a href="https://figma.com/plugin-docs/api/figma-clientStorage/"target="_blank"><code>figma.clientStorage</code></a> on which to store the settings. Defaults to <code>'settings'</code>.</li></ul><p><em><strong>Return type</strong></em></p><pre><code>Promise&#x3C;Settings>
</code></pre><h3 id="savesettingsasyncsettingssettings--settingskey"><code>saveSettingsAsync&#x3C;Settings>(settings [, settingsKey])</code><a aria-hidden class="content__header-link"tabindex="-1"href="#savesettingsasyncsettingssettings--settingskey">#</a></h3><p>Saves the given <code>settings</code> for your plugin/widget (stored locally on the user’s computer under the given <code>settingsKey</code>).</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Settings</code></li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>settings</code> (<code>Settings</code>)</li><li><code>settingsKey</code> (<code>string</code>) – <em>Optional.</em> The key in <a href="https://figma.com/plugin-docs/api/figma-clientStorage/"target="_blank"><code>figma.clientStorage</code></a> on which to store the settings. Defaults to <code>'settings'</code>.</li></ul><p><em><strong>Return type</strong></em></p><pre><code>Promise&#x3C;void>
</code></pre><h2 id="string">String<a aria-hidden class="content__header-link"tabindex="-1"href="#string">#</a></h2><pre><code class="hljs language-ts"><span class="hljs-keyword">import</span> {
  formatErrorMessage,
  formatSuccessMessage,
  formatWarningMessage,
  pluralize
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@create-figma-plugin/utilities'</span>
</code></pre><h3 id="formaterrormessagemessage"><code>formatErrorMessage(message)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#formaterrormessagemessage">#</a></h3><p>Adds a <code>✘</code> prefix to the given <code>message</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>message</code> (<code>string</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>string
</code></pre><h3 id="formatsuccessmessagemessage"><code>formatSuccessMessage(message)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#formatsuccessmessagemessage">#</a></h3><p>Adds a <code>✔</code> prefix to the given <code>message</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>message</code> (<code>string</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>string
</code></pre><h3 id="formatwarningmessagemessage"><code>formatWarningMessage(message)</code><a aria-hidden class="content__header-link"tabindex="-1"href="#formatwarningmessagemessage">#</a></h3><p>Adds a <code>⚠</code> prefix to the given <code>message</code>.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>message</code> (<code>string</code>)</li></ul><p><em><strong>Return type</strong></em></p><pre><code>string
</code></pre><h3 id="pluralizenumber-singular--plural"><code>pluralize(number, singular [, plural])</code><a aria-hidden class="content__header-link"tabindex="-1"href="#pluralizenumber-singular--plural">#</a></h3><p>Returns <code>singular</code> if <code>number</code> is exactly <code>1</code>, else returns <code>plural</code>. <code>plural</code> defaults to <code>`${singular}s`</code> if not specified.</p><p><em><strong>Parameters</strong></em></p><ul><li><code>number</code> (<code>number</code>)</li><li><code>singular</code> (<code>string</code>)</li><li><code>plural</code> (<code>string</code>) – <em>Optional.</em></li></ul><p><em><strong>Return type</strong></em></p><pre><code>string
</code></pre><h2 id="ui">UI<a aria-hidden class="content__header-link"tabindex="-1"href="#ui">#</a></h2><pre><code class="hljs language-ts"><span class="hljs-keyword">import</span> {
  showUI
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@create-figma-plugin/utilities'</span>
</code></pre><h3 id="showuidataoptions--data"><code>showUI&#x3C;Data>(options [, data])</code><a aria-hidden class="content__header-link"tabindex="-1"href="#showuidataoptions--data">#</a></h3><p>Renders the UI correponding to the command in a modal within the Figma UI. Specify the modal’s <code>width</code>, <code>height</code>, <code>title</code>, and whether it is <code>visible</code> via <a href="https://figma.com/plugin-docs/api/properties/figma-showui/"target="_blank"><code>options</code></a>. Optionally pass on some initialising <code>data</code> from the command to the UI.</p><p>Learn how to <a href="/create-figma-plugin/ui/">add a UI to your plugin/widget</a>.</p><p><em><strong>Type parameters</strong></em></p><ul><li><code>Data</code> (<code>Record&#x3C;string, unknown></code>)</li></ul><p><em><strong>Parameters</strong></em></p><ul><li><code>options</code> (<code>ShowUIOptions</code>)</li><li><code>data</code> (<code>Data</code>) – <em>Optional.</em></li></ul><p><em><strong>Return type</strong></em></p><pre><code>void
</code></pre></div><ul class="pagination"><li class="pagination__previous"><a href="/create-figma-plugin/ui/">UI</a></li><li class="pagination__next"><a href="/create-figma-plugin/recipes/">Recipes</a></li></ul></div></main><script src="/create-figma-plugin/script.js"></script><script>var sc_project = 12531644
      var sc_invisible = 1
      var sc_security = "95d0263e"</script><script async src="https://www.statcounter.com/counter/counter.js"></script><noscript><img src="https://c.statcounter.com/12531644/0/95d0263e/1/"alt=""></noscript></body></html>