{"version":3,"file":"disclosure-457591a5.js","sources":["../../src/components/disclosure/disclosure.tsx"],"sourcesContent":["import { ComponentChildren, Fragment, h } from 'preact'\nimport { useCallback } from 'preact/hooks'\n\nimport { IconCaretRight16 } from '../../icons/icon-16/icon-caret-right-16.js'\nimport { Event, EventHandler } from '../../types/event-handler.js'\nimport { FocusableComponentProps } from '../../types/focusable-component-props.js'\nimport { createComponent } from '../../utilities/create-component.js'\nimport { noop } from '../../utilities/no-op.js'\nimport styles from './disclosure.module.css'\n\nexport interface DisclosureProps\n  extends FocusableComponentProps<HTMLInputElement> {\n  children: ComponentChildren\n  onClick?: EventHandler.onClick<HTMLInputElement>\n  open: boolean\n  title: string\n}\n\nexport const Disclosure = createComponent<HTMLInputElement, DisclosureProps>(\n  function (\n    {\n      children,\n      onClick = noop,\n      onKeyDown = noop,\n      open,\n      propagateEscapeKeyDown = true,\n      title,\n      ...rest\n    },\n    ref\n  ) {\n    const handleKeyDown = useCallback(\n      function (event: Event.onKeyDown<HTMLInputElement>) {\n        onKeyDown(event)\n        if (event.key === 'Escape') {\n          if (propagateEscapeKeyDown === false) {\n            event.stopPropagation()\n          }\n          event.currentTarget.blur()\n        }\n      },\n      [onKeyDown, propagateEscapeKeyDown]\n    )\n\n    return (\n      <Fragment>\n        <label class={styles.label}>\n          <input\n            {...rest}\n            ref={ref}\n            checked={open === true}\n            class={styles.input}\n            onClick={onClick}\n            onKeyDown={handleKeyDown}\n            tabIndex={0}\n            type=\"checkbox\"\n          />\n          <div class={styles.title}>\n            <div class={styles.icon}>\n              <IconCaretRight16 />\n            </div>\n            {title}\n          </div>\n        </label>\n        {open === true ? <div class={styles.children}>{children}</div> : null}\n      </Fragment>\n    )\n  }\n)\n"],"names":["Disclosure","createComponent","children","onClick","noop","onKeyDown","open","propagateEscapeKeyDown","title","rest","ref","handleKeyDown","useCallback","event","key","stopPropagation","currentTarget","blur","_jsxs","Fragment","class","styles","label","_jsx","checked","input","tabIndex","type","icon","IconCaretRight16"],"mappings":"oZAkBaA,EAAaC,EACxB,SACE,CACEC,SAAAA,EACAC,QAAAA,EAAUC,EACVC,UAAAA,EAAYD,EACZE,KAAAA,EACAC,uBAAAA,EAAyB,GACzBC,MAAAA,EACA,GAAGC,CACL,EACAC,EACA,CACMC,MAAAA,EAAgBC,EACpB,SAAUC,EAA0C,CAClDR,EAAUQ,CAAK,EACXA,EAAMC,MAAQ,WACZP,IAA2B,IAC7BM,EAAME,gBAAgB,EAExBF,EAAMG,cAAcC,OACtB,EAEF,CAACZ,EAAWE,CAAsB,CACpC,EAEA,OACEW,EAACC,EAAQ,CAAAjB,UACPgB,EAAA,QAAA,CAAOE,MAAOC,EAAOC,MAAMpB,UACzBqB,EAAA,QAAA,CAAA,GACMd,EACJC,IAAAA,EACAc,QAASlB,IAAS,GAClBc,MAAOC,EAAOI,MACdtB,QAAAA,EACAE,UAAWM,EACXe,SAAU,EACVC,KAAK,UAAA,CACN,EACDT,EAAA,MAAA,CAAKE,MAAOC,EAAOb,MAAMN,UACvBqB,EAAA,MAAA,CAAKH,MAAOC,EAAOO,KAAK1B,SACtBqB,EAACM,EAAkB,EAAA,CAChB,CAAA,EACJrB,CAAK,CAAA,CACH,CAAC,CACD,CAAA,EACNF,IAAS,GAAOiB,EAAA,MAAA,CAAKH,MAAOC,EAAOnB,SAASA,SAAAA,CAAgB,CAAA,EAAI,IAAI,CAAA,CAC7D,CAEd,CACF"}