{"version":3,"file":"icon-button-10110ab3.js","sources":["../../src/components/icon-button/icon-button.tsx"],"sourcesContent":["import { ComponentChildren, h } from 'preact'\nimport { useCallback } from 'preact/hooks'\n\nimport { Event, EventHandler } from '../../types/event-handler.js'\nimport { FocusableComponentProps } from '../../types/focusable-component-props.js'\nimport { createComponent } from '../../utilities/create-component.js'\nimport { noop } from '../../utilities/no-op.js'\nimport styles from './icon-button.module.css'\n\nexport interface IconButtonProps\n  extends FocusableComponentProps<HTMLButtonElement> {\n  children: ComponentChildren\n  disabled?: boolean\n  onClick?: EventHandler.onClick<HTMLButtonElement>\n}\n\nexport const IconButton = createComponent<HTMLButtonElement, IconButtonProps>(\n  function (\n    {\n      children,\n      disabled = false,\n      onClick,\n      onKeyDown = noop,\n      propagateEscapeKeyDown = true,\n      ...rest\n    },\n    ref\n  ) {\n    const handleKeyDown = useCallback(\n      function (event: Event.onKeyDown<HTMLButtonElement>) {\n        onKeyDown(event)\n        if (event.key === 'Escape') {\n          if (propagateEscapeKeyDown === false) {\n            event.stopPropagation()\n          }\n          event.currentTarget.blur()\n        }\n      },\n      [onKeyDown, propagateEscapeKeyDown]\n    )\n\n    return (\n      <button\n        {...rest}\n        ref={ref}\n        class={styles.iconButton}\n        disabled={disabled === true}\n        onClick={onClick}\n        onKeyDown={handleKeyDown}\n        tabIndex={0}\n      >\n        <div class={styles.icon}>{children}</div>\n      </button>\n    )\n  }\n)\n"],"names":["IconButton","createComponent","children","disabled","onClick","onKeyDown","noop","propagateEscapeKeyDown","rest","ref","handleKeyDown","useCallback","event","key","stopPropagation","currentTarget","blur","_jsx","class","styles","iconButton","tabIndex","icon"],"mappings":"8NAgBaA,EAAaC,EACxB,SACE,CACEC,SAAAA,EACAC,SAAAA,EAAW,GACXC,QAAAA,EACAC,UAAAA,EAAYC,EACZC,uBAAAA,EAAyB,GACzB,GAAGC,CACL,EACAC,EACA,CACMC,MAAAA,EAAgBC,EACpB,SAAUC,EAA2C,CACnDP,EAAUO,CAAK,EACXA,EAAMC,MAAQ,WACZN,IAA2B,IAC7BK,EAAME,gBAAgB,EAExBF,EAAMG,cAAcC,OACtB,EAEF,CAACX,EAAWE,CAAsB,CACpC,EAEA,OACEU,EAAA,SAAA,CAAA,GACMT,EACJC,IAAAA,EACAS,MAAOC,EAAOC,WACdjB,SAAUA,IAAa,GACvBC,QAAAA,EACAC,UAAWK,EACXW,SAAU,EAAEnB,SAEZe,EAAA,MAAA,CAAKC,MAAOC,EAAOG,KAAKpB,SAAAA,CAAAA,CAAgB,CAAA,CAClC,CAEZ,CACF"}