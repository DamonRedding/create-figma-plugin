{"version":3,"file":"selectable-item-c557a788.js","sources":["../../src/components/selectable-item/selectable-item.tsx"],"sourcesContent":["import { ComponentChildren, h } from 'preact'\nimport { useCallback } from 'preact/hooks'\n\nimport { IconMenuCheckmarkChecked16 } from '../../icons/icon-16/icon-menu-checkmark-checked-16.js'\nimport { Event, EventHandler } from '../../types/event-handler.js'\nimport { FocusableComponentProps } from '../../types/focusable-component-props.js'\nimport { createClassName } from '../../utilities/create-class-name.js'\nimport { createComponent } from '../../utilities/create-component.js'\nimport { noop } from '../../utilities/no-op.js'\nimport styles from './selectable-item.module.css'\n\nexport interface SelectableItemProps\n  extends FocusableComponentProps<HTMLInputElement> {\n  bold?: boolean\n  children: ComponentChildren\n  disabled?: boolean\n  indent?: boolean\n  onChange?: EventHandler.onChange<HTMLInputElement>\n  onValueChange?: EventHandler.onValueChange<boolean>\n  value: boolean\n}\n\nexport const SelectableItem = createComponent<\n  HTMLInputElement,\n  SelectableItemProps\n>(function (\n  {\n    bold = false,\n    children,\n    disabled = false,\n    indent = false,\n    onChange = noop,\n    onKeyDown = noop,\n    onValueChange = noop,\n    propagateEscapeKeyDown = true,\n    value,\n    ...rest\n  },\n  ref\n) {\n  const handleChange = useCallback(\n    function (event: Event.onChange<HTMLInputElement>) {\n      onChange(event)\n      const newValue = event.currentTarget.checked === true\n      onValueChange(newValue)\n    },\n    [onChange, onValueChange]\n  )\n\n  const handleKeyDown = useCallback(\n    function (event: Event.onKeyDown<HTMLInputElement>) {\n      onKeyDown(event)\n      if (event.key === 'Escape') {\n        if (propagateEscapeKeyDown === false) {\n          event.stopPropagation()\n        }\n        event.currentTarget.blur()\n      }\n    },\n    [onKeyDown, propagateEscapeKeyDown]\n  )\n\n  return (\n    <label\n      class={createClassName([\n        styles.selectableItem,\n        disabled === true ? styles.disabled : null,\n        bold === true ? styles.bold : null,\n        indent === true ? styles.indent : null\n      ])}\n    >\n      <input\n        {...rest}\n        ref={ref}\n        checked={value === true}\n        class={styles.input}\n        disabled={disabled === true}\n        onChange={handleChange}\n        onKeyDown={disabled === true ? undefined : handleKeyDown}\n        tabIndex={0}\n        type=\"checkbox\"\n      />\n      <div class={styles.box} />\n      <div class={styles.children}>{children}</div>\n      {value === true ? (\n        <div class={styles.icon}>\n          <IconMenuCheckmarkChecked16 />\n        </div>\n      ) : null}\n    </label>\n  )\n})\n"],"names":["SelectableItem","createComponent","bold","children","disabled","indent","onChange","noop","onKeyDown","onValueChange","propagateEscapeKeyDown","value","rest","ref","handleChange","useCallback","event","newValue","currentTarget","checked","handleKeyDown","key","stopPropagation","blur","_jsxs","class","createClassName","styles","selectableItem","_jsx","input","undefined","tabIndex","type","box","icon","IconMenuCheckmarkChecked16"],"mappings":"4gBAsBaA,EAAiBC,EAG5B,SACA,CACEC,KAAAA,EAAO,GACPC,SAAAA,EACAC,SAAAA,EAAW,GACXC,OAAAA,EAAS,GACTC,SAAAA,EAAWC,EACXC,UAAAA,EAAYD,EACZE,cAAAA,EAAgBF,EAChBG,uBAAAA,EAAyB,GACzBC,MAAAA,EACA,GAAGC,CACL,EACAC,EACA,CACMC,MAAAA,EAAeC,EACnB,SAAUC,EAAyC,CACjDV,EAASU,CAAK,EACRC,MAAAA,EAAWD,EAAME,cAAcC,UAAY,GACjDV,EAAcQ,CAAQ,CAAA,EAExB,CAACX,EAAUG,CAAa,CAC1B,EAEMW,EAAgBL,EACpB,SAAUC,EAA0C,CAClDR,EAAUQ,CAAK,EACXA,EAAMK,MAAQ,WACZX,IAA2B,IAC7BM,EAAMM,gBAAgB,EAExBN,EAAME,cAAcK,OACtB,EAEF,CAACf,EAAWE,CAAsB,CACpC,EAEA,OACEc,EAAA,QAAA,CACEC,MAAOC,EAAgB,CACrBC,EAAOC,eACPxB,IAAa,GAAOuB,EAAOvB,SAAW,KACtCF,IAAS,GAAOyB,EAAOzB,KAAO,KAC9BG,IAAW,GAAOsB,EAAOtB,OAAS,IAAI,CACvC,EAAEF,UAEH0B,EAAA,QAAA,CAAA,GACMjB,EACJC,IAAAA,EACAM,QAASR,IAAU,GACnBc,MAAOE,EAAOG,MACd1B,SAAUA,IAAa,GACvBE,SAAUQ,EACVN,UAAWJ,IAAa,GAAO2B,OAAYX,EAC3CY,SAAU,EACVC,KAAK,UAAA,CACN,EACDJ,EAAA,MAAA,CAAKJ,MAAOE,EAAOO,GAAAA,CAAM,EACzBL,EAAA,MAAA,CAAKJ,MAAOE,EAAOxB,SAASA,SAAAA,CAAgB,CAAA,EAC3CQ,IAAU,GACTkB,EAAA,MAAA,CAAKJ,MAAOE,EAAOQ,KAAKhC,SACtB0B,EAACO,EAA4B,EAAA,CAC1B,CAAA,EACH,IAAI,CAAA,CACH,CAEX,CAAC"}