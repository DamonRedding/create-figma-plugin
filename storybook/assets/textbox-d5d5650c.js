import{c as V}from"./create-class-name-71c46838.js";import{_ as M,h as K,T as i}from"./hooks.module-7c0d6ca2.js";import{g as U}from"./get-current-from-ref-47f174f6.js";import{i as X}from"./is-keycode-character-generating-0746a523.js";import{o as s}from"./jsxRuntime.module-3e32d480.js";import{M as h}from"./mixed-values-e51728b2.js";import{t as o}from"./textbox.module-917ccc0f.js";const d="";function Y({disabled:n=!1,name:u,onBlur:f=function(){},onFocus:g=function(){},onInput:b=function(){},onKeyDown:x=function(){},onMouseUp:y=function(){},onValueInput:E=function(){},password:k=!1,placeholder:w,propagateEscapeKeyDown:T=!0,revertOnEscapeKeyDown:I=!1,spellCheck:S=!1,validateOnBlur:p,value:e,...D}){const R=M(null),m=M(!1),[c,l]=K(d),a=i(function(t){const r=U(R);r.value=t;const C=document.createEvent("Event");C.initEvent("input",!0,!0),r.dispatchEvent(C)},[]),G=i(function(t){if(m.current===!0){m.current=!1;return}if(f(t),typeof p<"u"){const r=p(e);if(typeof r=="string"){a(r),l(d);return}if(r===!1){e!==c&&a(c),l(d);return}}l(d)},[f,c,a,p,e]),N=i(function(t){g(t),l(e),t.currentTarget.select()},[g,e]),_=i(function(t){E(t.currentTarget.value,u),b(t)},[u,b,E]),F=i(function(t){x(t);const r=t.key;if(r==="Escape"){T===!1&&t.stopPropagation(),I===!0&&(m.current=!0,a(c),l(d)),t.currentTarget.blur();return}if(r==="Enter"){t.currentTarget.blur();return}e===h&&X(t.keyCode)===!1&&(t.preventDefault(),t.currentTarget.select())},[x,c,T,I,a,e]),P=i(function(t){y(t),e===h&&t.preventDefault()},[y,e]);return s("input",{...D,ref:R,disabled:n===!0,name:u,onBlur:G,onFocus:N,onInput:_,onKeyDown:F,onMouseUp:P,placeholder:w,spellcheck:S,tabIndex:n===!0?-1:0,type:k===!0?"password":"text",value:e===h?"Mixed":e})}function J({icon:n,variant:u,...f}){if(typeof n=="string"&&n.length!==1)throw new Error(`String \`icon\` must be a single character: ${n}`);return s("div",{class:V([o.textbox,typeof u>"u"?null:u==="border"?o.hasBorder:null,typeof n>"u"?null:o.hasIcon,f.disabled===!0?o.disabled:null]),children:[s(Y,{...f,class:o.input}),typeof n>"u"?null:s("div",{class:o.icon,children:n}),s("div",{class:o.border}),u==="underline"?s("div",{class:o.underline}):null]})}export{J as T};
//# sourceMappingURL=textbox-d5d5650c.js.map
