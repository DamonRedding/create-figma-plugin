import{D as b,k as j}from"./preact.module-6cc36cb9.js";import{_ as v,p as c}from"./hooks.module-6e460002.js";import{I as g}from"./icon-cross-32-fec1c7a2.js";import{c as T}from"./create-class-name-71c46838.js";import{c as L,g as x}from"./create-focus-trap-key-down-handler-e65db33a.js";import{I as R}from"./icon-button-8696ab26.js";import{T as B}from"./text-3f7573c7.js";import{o as n}from"./jsxRuntime.module-893eb125.js";const k="_modal_1pejl_1",D="_noTransition_1pejl_10",F="_center_1pejl_14",I="_open_1pejl_24",H="_bottom_1pejl_29",K="_left_1pejl_39",M="_right_1pejl_49",z="_topBar_1pejl_59",N="_closeButtonLeft_1pejl_69",q="_title_1pejl_73",A="_overlay_1pejl_78",o={modal:k,noTransition:D,center:F,open:I,bottom:H,left:K,right:M,topBar:z,closeButtonLeft:N,title:q,overlay:A},f=[];function Y({children:m,closeButtonIcon:p=n(g,{}),closeButtonPosition:_="right",open:r,noTransition:h=!1,onCloseButtonClick:u,onEscapeKeyDown:d,onOverlayClick:a,position:w="center",title:i,...y}){const e=v(null),s=v(null);return c(function(){const t=document.createElement("div");return document.body.appendChild(t),e.current=t,function(){document.body.removeChild(t)}},[]),c(function(){if(e.current===null)throw new Error("`rootElementRef.current` is `null`");const t=L(e.current);function l(E){r===!0&&t(E)}return window.addEventListener("keydown",l),function(){window.removeEventListener("keydown",l)}},[r]),c(function(){function t(l){r===!1||l.key!=="Escape"||typeof d>"u"||f[f.length-1]!==e.current||d(l)}return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}},[r,d]),c(function(){if(e.current===null)throw new Error("`rootElementRef.current` is `null`");if(r===!0){f.push(e.current),e.current.style.cssText="position:absolute;top:0;left:0;bottom:0;right:0;z-index:1",s.current=document.activeElement;const t=x(e.current);t.length>0?t[0].focus():s.current.blur()}else f.pop(),e.current.style.cssText="position:static";return function(){s.current!==null&&s.current.focus()}},[r]),c(function(){if(e.current===null)throw new Error("`rootElementRef.current` is `null`");b(n(j,{children:[n("div",{...y,class:T([o.modal,r===!0?o.open:null,h===!0?o.noTransition:null,o[w]]),children:[m,typeof u>"u"&&typeof i>"u"?null:n("div",{class:o.topBar,children:[n("div",{class:o.title,children:typeof i>"u"?null:n(B,{children:n("strong",{children:i})})}),typeof u>"u"?null:n("div",{class:_==="left"?o.closeButtonLeft:void 0,children:n(R,{onClick:u,children:p})})]})]}),n("div",{class:o.overlay,onClick:typeof a>"u"?void 0:a})]}),e.current)},[m,p,_,h,u,a,r,w,y,i]),null}export{Y as M};
//# sourceMappingURL=modal-ce83857a.js.map
