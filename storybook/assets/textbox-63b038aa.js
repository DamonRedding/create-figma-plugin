import{c as N}from"./create-class-name-71c46838.js";import{_ as x,h as S,T as s}from"./hooks.module-6e460002.js";import{g as _}from"./get-current-from-ref-47f174f6.js";import{i as K}from"./is-keycode-character-generating-0746a523.js";import{o as u}from"./jsxRuntime.module-893eb125.js";import{M as h}from"./mixed-values-e51728b2.js";import{s as r}from"./textbox.module-9ea46353.js";const d="";function P({disabled:n=!1,name:o,onInput:i=function(){},onValueInput:g=function(){},password:I=!1,placeholder:M,propagateEscapeKeyDown:y=!0,revertOnEscapeKeyDown:E=!1,spellCheck:R=!1,validateOnBlur:p,value:t,...w}){const T=x(null),m=x(!1),[f,c]=S(d),l=s(function(e){const a=_(T);a.value=e;const b=document.createEvent("Event");b.initEvent("input",!0,!0),a.dispatchEvent(b)},[]),C=s(function(){if(m.current===!0){m.current=!1;return}if(typeof p<"u"){const e=p(t);if(typeof e=="string"){l(e),c(d);return}if(e===!1){t!==f&&l(f),c(d);return}}c(d)},[f,l,p,t]),k=s(function(e){c(t),e.currentTarget.select()},[t]),D=s(function(e){g(e.currentTarget.value,o),i(e)},[o,i,g]),F=s(function(e){const a=e.key;if(a==="Escape"){y===!1&&e.stopPropagation(),E===!0&&(m.current=!0,l(f),c(d)),e.currentTarget.blur();return}if(a==="Enter"){e.currentTarget.blur();return}t===h&&K(e.keyCode)===!1&&(e.preventDefault(),e.currentTarget.select())},[f,y,E,l,t]),G=s(function(e){t===h&&e.preventDefault()},[t]);return u("input",{...w,ref:T,disabled:n===!0,name:o,onBlur:C,onFocus:k,onInput:D,onKeyDown:F,onMouseUp:G,placeholder:M,spellcheck:R,tabIndex:n===!0?-1:0,type:I===!0?"password":"text",value:t===h?"Mixed":t})}function q({icon:n,variant:o,...i}){if(typeof n=="string"&&n.length!==1)throw new Error(`String \`icon\` must be a single character: ${n}`);return u("div",{class:N([r.textbox,typeof o>"u"?null:o==="border"?r.hasBorder:null,typeof n>"u"?null:r.hasIcon,i.disabled===!0?r.disabled:null]),children:[u(P,{...i,class:r.input}),typeof n>"u"?null:u("div",{class:r.icon,children:n}),u("div",{class:r.border}),o==="underline"?u("div",{class:r.underline}):null]})}export{q as T};
//# sourceMappingURL=textbox-63b038aa.js.map
