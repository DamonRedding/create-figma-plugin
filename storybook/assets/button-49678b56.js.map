{"version":3,"file":"button-49678b56.js","sources":["../../src/components/button/button.tsx"],"sourcesContent":["import { ComponentChildren, h } from 'preact'\nimport { useCallback } from 'preact/hooks'\n\nimport { Event, EventHandler } from '../../types/event-handler.js'\nimport { FocusableComponentProps } from '../../types/focusable-component-props.js'\nimport { createClassName } from '../../utilities/create-class-name.js'\nimport { createComponent } from '../../utilities/create-component.js'\nimport { noop } from '../../utilities/no-op.js'\nimport { LoadingIndicator } from '../loading-indicator/loading-indicator.js'\nimport styles from './button.module.css'\n\nexport interface ButtonProps\n  extends FocusableComponentProps<HTMLButtonElement> {\n  children: ComponentChildren\n  danger?: boolean\n  disabled?: boolean\n  fullWidth?: boolean\n  loading?: boolean\n  onClick?: EventHandler.onClick<HTMLButtonElement>\n  secondary?: boolean\n}\n\nexport const Button = createComponent<HTMLButtonElement, ButtonProps>(function (\n  {\n    children,\n    danger = false,\n    disabled = false,\n    fullWidth = false,\n    loading = false,\n    onClick = noop,\n    onKeyDown = noop,\n    propagateEscapeKeyDown = true,\n    secondary = false,\n    ...rest\n  },\n  ref\n) {\n  const handleKeyDown = useCallback(\n    function (event: Event.onKeyDown<HTMLButtonElement>) {\n      onKeyDown(event)\n      if (event.key === 'Escape') {\n        if (propagateEscapeKeyDown === false) {\n          event.stopPropagation()\n        }\n        event.currentTarget.blur()\n      }\n    },\n    [onKeyDown, propagateEscapeKeyDown]\n  )\n\n  return (\n    <div\n      class={createClassName([\n        styles.button,\n        secondary === true ? styles.secondary : styles.default,\n        danger === true ? styles.danger : null,\n        fullWidth === true ? styles.fullWidth : null,\n        disabled === true ? styles.disabled : null,\n        loading === true ? styles.loading : null\n      ])}\n    >\n      {loading === true ? (\n        <div class={styles.loadingIndicator}>\n          <LoadingIndicator />\n        </div>\n      ) : null}\n      <button\n        {...rest}\n        ref={ref}\n        disabled={disabled === true}\n        onClick={loading === true ? undefined : onClick}\n        onKeyDown={handleKeyDown}\n        tabIndex={0}\n      >\n        <div class={styles.children}>{children}</div>\n      </button>\n    </div>\n  )\n})\n"],"names":["Button","createComponent","children","danger","disabled","fullWidth","loading","onClick","noop","onKeyDown","propagateEscapeKeyDown","secondary","rest","ref","handleKeyDown","useCallback","event","key","stopPropagation","currentTarget","blur","_jsxs","class","createClassName","styles","button","default","_jsx","loadingIndicator","LoadingIndicator","undefined","tabIndex"],"mappings":"8SAsBaA,MAAAA,EAASC,EAAgD,SACpE,CACEC,SAAAA,EACAC,OAAAA,EAAS,GACTC,SAAAA,EAAW,GACXC,UAAAA,EAAY,GACZC,QAAAA,EAAU,GACVC,QAAAA,EAAUC,EACVC,UAAAA,EAAYD,EACZE,uBAAAA,EAAyB,GACzBC,UAAAA,EAAY,GACZ,GAAGC,CACL,EACAC,EACA,CACMC,MAAAA,EAAgBC,EACpB,SAAUC,EAA2C,CACnDP,EAAUO,CAAK,EACXA,EAAMC,MAAQ,WACZP,IAA2B,IAC7BM,EAAME,gBAAgB,EAExBF,EAAMG,cAAcC,OACtB,EAEF,CAACX,EAAWC,CAAsB,CACpC,EAEA,OACEW,EAAA,MAAA,CACEC,MAAOC,EAAgB,CACrBC,EAAOC,OACPd,IAAc,GAAOa,EAAOb,UAAYa,EAAOE,QAC/CvB,IAAW,GAAOqB,EAAOrB,OAAS,KAClCE,IAAc,GAAOmB,EAAOnB,UAAY,KACxCD,IAAa,GAAOoB,EAAOpB,SAAW,KACtCE,IAAY,GAAOkB,EAAOlB,QAAU,IAAI,CACzC,EAAEJ,SAEFI,CAAAA,IAAY,GACXqB,EAAA,MAAA,CAAKL,MAAOE,EAAOI,iBAAiB1B,SAClCyB,EAACE,EAAkB,EAAA,CAAA,CAChB,EACH,KACJF,EAAA,SAAA,CAAA,GACMf,EACJC,IAAAA,EACAT,SAAUA,IAAa,GACvBG,QAASD,IAAY,GAAOwB,OAAYvB,EACxCE,UAAWK,EACXiB,SAAU,EAAE7B,SAEZyB,EAAA,MAAA,CAAKL,MAAOE,EAAOtB,SAASA,SAAAA,CAAAA,CAAgB,CAAA,CACtC,CAAC,CAAA,CACN,CAET,CAAC"}