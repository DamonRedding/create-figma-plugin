{"version":3,"file":"link.stories-8f4fc19d.js","sources":["../../src/inline-text/link/link.tsx"],"sourcesContent":["import { ComponentChildren, h } from 'preact'\nimport { useCallback } from 'preact/hooks'\n\nimport { Event } from '../../types/event-handler.js'\nimport { FocusableComponentProps } from '../../types/focusable-component-props.js'\nimport { createClassName } from '../../utilities/create-class-name.js'\nimport { createComponent } from '../../utilities/create-component.js'\nimport { noop } from '../../utilities/no-op.js'\nimport styles from './link.module.css'\n\nexport interface LinkProps extends FocusableComponentProps<HTMLAnchorElement> {\n  children: ComponentChildren\n  fullWidth?: boolean\n  href: string\n  target?: string\n}\n\nexport const Link = createComponent<HTMLAnchorElement, LinkProps>(function (\n  {\n    children,\n    fullWidth = false,\n    href,\n    onKeyDown = noop,\n    propagateEscapeKeyDown = true,\n    target,\n    ...rest\n  },\n  ref\n) {\n  const handleKeyDown = useCallback(\n    function (event: Event.onKeyDown<HTMLAnchorElement>) {\n      onKeyDown(event)\n      if (event.key === 'Escape') {\n        if (propagateEscapeKeyDown === false) {\n          event.stopPropagation()\n        }\n        event.currentTarget.blur()\n      }\n    },\n    [propagateEscapeKeyDown, onKeyDown]\n  )\n\n  return (\n    <a\n      {...rest}\n      ref={ref}\n      class={createClassName([\n        styles.link,\n        fullWidth === true ? styles.fullWidth : null\n      ])}\n      href={href}\n      onKeyDown={handleKeyDown}\n      tabIndex={0}\n      target={target}\n    >\n      {children}\n    </a>\n  )\n})\n"],"names":["Link","createComponent","children","fullWidth","href","onKeyDown","noop","propagateEscapeKeyDown","target","rest","ref","handleKeyDown","useCallback","event","key","stopPropagation","currentTarget","blur","_jsx","class","createClassName","styles","link","tabIndex"],"mappings":"4VAiBaA,EAAOC,EAA8C,SAChE,CACEC,SAAAA,EACAC,UAAAA,EAAY,GACZC,KAAAA,EACAC,UAAAA,EAAYC,EACZC,uBAAAA,EAAyB,GACzBC,OAAAA,EACA,GAAGC,CACL,EACAC,EACA,CACMC,MAAAA,EAAgBC,EACpB,SAAUC,EAA2C,CACnDR,EAAUQ,CAAK,EACXA,EAAMC,MAAQ,WACZP,IAA2B,IAC7BM,EAAME,gBAAgB,EAExBF,EAAMG,cAAcC,OACtB,EAEF,CAACV,EAAwBF,CAAS,CACpC,EAEA,OACEa,EAAA,IAAA,CAAA,GACMT,EACJC,IAAAA,EACAS,MAAOC,EAAgB,CACrBC,EAAOC,KACPnB,IAAc,GAAOkB,EAAOlB,UAAY,IAAI,CAC7C,EACDC,KAAAA,EACAC,UAAWM,EACXY,SAAU,EACVf,OAAAA,EAAeN,SAAAA,CAAAA,CAGd,CAEP,CAAC;;;;;;;;;;;;;;;;;;;;;"}