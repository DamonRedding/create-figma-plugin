import{B as L}from"./preact.module-fa42f7d1.js";import{c as x,_,p as d}from"./create-component-b0512abd.js";import{I as B}from"./icon-cross-32-9903a829.js";import{c as F}from"./create-class-name-71c46838.js";import{g as c}from"./get-current-from-ref-47f174f6.js";import{g as H,c as R}from"./create-focus-trap-key-down-handler-e65db33a.js";import{I}from"./icon-button-10110ab3.js";import{T as k}from"./text-72c2365d.js";import{o as n}from"./jsxRuntime.module-632ba37d.js";const D="_modal_1pejl_1",K="_noTransition_1pejl_10",M="_center_1pejl_14",P="_open_1pejl_24",z="_bottom_1pejl_29",N="_left_1pejl_39",S="_right_1pejl_49",$="_topBar_1pejl_59",q="_closeButtonLeft_1pejl_69",A="_title_1pejl_73",C="_overlay_1pejl_78",l={modal:D,noTransition:K,center:M,open:P,bottom:z,left:N,right:S,topBar:$,closeButtonLeft:q,title:A,overlay:C},O=x(function({children:y,closeButtonIcon:h=n(B,{}),closeButtonPosition:v="right",open:r,transition:w=!0,onCloseButtonClick:a,onEscapeKeyDown:m,onOverlayClick:p,position:E="center",title:f,...g},b){const i=_(null),T=_([]),u=_(null);return d(function(){const e=document.createElement("div");return document.body.appendChild(e),i.current=e,function(){document.body.removeChild(e)}},[]),d(function(){const e=c(i),o=R(e);function t(s){r===!0&&o(s)}return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}},[r]),d(function(){function e(o){const t=c(T),s=c(i);r===!1||o.key!=="Escape"||typeof m>"u"||t[t.length-1]!==s||m(o)}return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}},[r,m]),d(function(){const e=c(T),o=c(i),t=document.body;if(r===!0){if(e.length===0){const j=t.scrollHeight>window.innerHeight;t.style.cssText+=`position:fixed;overflow-y:${j===!0?"scroll":"hidden"};width:100%;`}e.push(o),o.style.cssText="position:absolute;top:0;left:0;bottom:0;right:0;z-index:1",u.current=document.activeElement;const s=H(o);s.length>0?s[0].focus():u.current.blur()}else e.length===1&&(t.style.removeProperty("position"),t.style.removeProperty("overflow-y"),t.style.removeProperty("width")),e.pop(),o.style.cssText="position:static";return function(){u.current!==null&&u.current.focus()}},[r]),d(function(){const e=c(i);L(n("div",{ref:b,children:[n("div",{...g,class:F([l.modal,r===!0?l.open:null,w===!1?l.noTransition:null,l[E]]),children:[y,typeof a>"u"&&typeof f>"u"?null:n("div",{class:l.topBar,children:[n("div",{class:l.title,children:typeof f>"u"?null:n(k,{children:n("strong",{children:f})})}),typeof a>"u"?null:n("div",{class:v==="left"?l.closeButtonLeft:void 0,children:n(I,{onClick:a,children:h})})]})]}),n("div",{class:l.overlay,onClick:typeof p>"u"?void 0:p})]}),e)},[y,h,v,a,p,r,E,b,g,f,w]),null});export{O as M};
//# sourceMappingURL=modal-ca5c9550.js.map
