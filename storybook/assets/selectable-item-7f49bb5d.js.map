{"version":3,"file":"selectable-item-7f49bb5d.js","sources":["../../src/components/selectable-item/selectable-item.tsx"],"sourcesContent":["import { ComponentChildren, h, JSX } from 'preact'\nimport { useCallback } from 'preact/hooks'\n\nimport { IconMenuCheckmarkChecked16 } from '../../icons/icon-16/icon-menu-checkmark-checked-16.js'\nimport { OnValueChange, Props } from '../../types/types.js'\nimport { createClassName } from '../../utilities/create-class-name.js'\nimport styles from './selectable-item.module.css'\n\nexport type SelectableItemProps<Name extends string> = {\n  bold?: boolean\n  children: ComponentChildren\n  disabled?: boolean\n  indent?: boolean\n  name?: Name\n  onChange?: OmitThisParameter<JSX.GenericEventHandler<HTMLInputElement>>\n  onValueChange?: OnValueChange<boolean, Name>\n  propagateEscapeKeyDown?: boolean\n  value: boolean\n}\n\nexport function SelectableItem<Name extends string>({\n  bold = false,\n  children,\n  disabled = false,\n  indent = false,\n  name,\n  onChange = function () {},\n  onValueChange = function () {},\n  propagateEscapeKeyDown = true,\n  value,\n  ...rest\n}: Props<HTMLInputElement, SelectableItemProps<Name>>): JSX.Element {\n  const handleChange = useCallback(\n    function (event: JSX.TargetedEvent<HTMLInputElement>): void {\n      onValueChange(!value, name)\n      onChange(event)\n    },\n    [name, onChange, onValueChange, value]\n  )\n\n  const handleKeyDown = useCallback(\n    function (event: JSX.TargetedKeyboardEvent<HTMLInputElement>): void {\n      if (event.key !== 'Escape') {\n        return\n      }\n      if (propagateEscapeKeyDown === false) {\n        event.stopPropagation()\n      }\n      event.currentTarget.blur()\n    },\n    [propagateEscapeKeyDown]\n  )\n\n  return (\n    <label\n      class={createClassName([\n        styles.selectableItem,\n        disabled === true ? styles.disabled : null,\n        bold === true ? styles.bold : null,\n        indent === true ? styles.indent : null\n      ])}\n    >\n      <input\n        {...rest}\n        checked={value === true}\n        class={styles.input}\n        disabled={disabled === true}\n        name={name}\n        onChange={handleChange}\n        onKeyDown={disabled === true ? undefined : handleKeyDown}\n        tabIndex={disabled === true ? -1 : 0}\n        type=\"checkbox\"\n      />\n      <div class={styles.box} />\n      <div class={styles.children}>{children}</div>\n      {value === true ? (\n        <div class={styles.icon}>\n          <IconMenuCheckmarkChecked16 />\n        </div>\n      ) : null}\n    </label>\n  )\n}\n"],"names":["SelectableItem","bold","children","disabled","indent","name","onChange","onValueChange","propagateEscapeKeyDown","value","rest","handleChange","useCallback","event","handleKeyDown","key","stopPropagation","currentTarget","blur","_jsxs","class","createClassName","styles","selectableItem","_jsx","checked","input","onKeyDown","undefined","tabIndex","type","box","icon","IconMenuCheckmarkChecked16"],"mappings":"ydAoBO,SAASA,EAAoC,CAClDC,KAAAA,EAAO,GACPC,SAAAA,EACAC,SAAAA,EAAW,GACXC,OAAAA,EAAS,GACTC,KAAAA,EACAC,SAAAA,EAAW,UAAY,CAAC,EACxBC,cAAAA,EAAgB,UAAY,CAAC,EAC7BC,uBAAAA,EAAyB,GACzBC,MAAAA,EACA,GAAGC,CAC+C,EAAgB,CAC5DC,MAAAA,EAAeC,EACnB,SAAUC,EAAkD,CAC5CN,EAAA,CAACE,EAAOJ,CAAI,EAC1BC,EAASO,CAAK,GAEhB,CAACR,EAAMC,EAAUC,EAAeE,CAAK,CACvC,EAEMK,EAAgBF,EACpB,SAAUC,EAA0D,CAC9DA,EAAME,MAAQ,WAGdP,IAA2B,IAC7BK,EAAMG,gBAAgB,EAExBH,EAAMI,cAAcC,OAAK,EAE3B,CAACV,CAAsB,CACzB,EAEA,OACEW,EAAA,QAAA,CACEC,MAAOC,EAAgB,CACrBC,EAAOC,eACPpB,IAAa,GAAOmB,EAAOnB,SAAW,KACtCF,IAAS,GAAOqB,EAAOrB,KAAO,KAC9BG,IAAW,GAAOkB,EAAOlB,OAAS,IAAI,CACvC,EAAEF,UAEHsB,EAAA,QAAA,CAAA,GACMd,EACJe,QAAShB,IAAU,GACnBW,MAAOE,EAAOI,MACdvB,SAAUA,IAAa,GACvBE,KAAAA,EACAC,SAAUK,EACVgB,UAAWxB,IAAa,GAAOyB,OAAYd,EAC3Ce,SAAU1B,IAAa,GAAO,GAAK,EACnC2B,KAAK,UAAA,CACN,EACDN,EAAA,MAAA,CAAKJ,MAAOE,EAAOS,GAAAA,CAAM,EACzBP,EAAA,MAAA,CAAKJ,MAAOE,EAAOpB,SAASA,SAAAA,CAAgB,CAAA,EAC3CO,IAAU,GACTe,EAAA,MAAA,CAAKJ,MAAOE,EAAOU,KAAK9B,SACtBsB,EAACS,EAA4B,EAAA,CAC1B,CAAA,EACH,IAAI,CAAA,CACH,CAEX"}