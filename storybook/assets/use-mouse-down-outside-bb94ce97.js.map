{"version":3,"file":"use-mouse-down-outside-bb94ce97.js","sources":["../../src/hooks/use-mouse-down-outside.ts"],"sourcesContent":["import { RefObject } from 'preact'\nimport { useEffect } from 'preact/hooks'\n\nimport { getCurrentFromRef } from '../utilities/get-current-from-ref.js'\n\nexport function useMouseDownOutside(options: {\n  ref: RefObject<HTMLElement>\n  onMouseDownOutside: () => void\n}): void {\n  const { ref, onMouseDownOutside } = options\n  useEffect(\n    function (): () => void {\n      function handleBlur() {\n        // This is triggered when clicking outside the plugin `iframe`\n        onMouseDownOutside()\n      }\n      function handleMouseDown(event: MouseEvent): void {\n        const element = getCurrentFromRef(ref)\n        if (\n          element === event.target ||\n          element.contains(event.target as HTMLElement)\n        ) {\n          return\n        }\n        onMouseDownOutside()\n      }\n      window.addEventListener('blur', handleBlur)\n      window.addEventListener('mousedown', handleMouseDown)\n      return function (): void {\n        window.removeEventListener('blur', handleBlur)\n        window.removeEventListener('mousedown', handleMouseDown)\n      }\n    },\n    [ref, onMouseDownOutside]\n  )\n}\n"],"names":["useMouseDownOutside","options","ref","onMouseDownOutside","useEffect","handleBlur","handleMouseDown","event","element","getCurrentFromRef","target","contains","addEventListener","removeEventListener"],"mappings":"6dAKO,SAASA,EAAoBC,EAG3B,CACD,KAAA,CAAEC,IAAAA,EAAKC,mBAAAA,CAAuBF,EAAAA,EACpCG,EACE,UAAwB,CACtB,SAASC,GAAa,CAEDF,GACrB,CACA,SAASG,EAAgBC,EAAyB,CAC1CC,MAAAA,EAAUC,EAAkBP,CAAG,EAEnCM,IAAYD,EAAMG,QAClBF,EAAQG,SAASJ,EAAMG,SAINP,GACrB,CACOS,cAAAA,iBAAiB,OAAQP,CAAU,EACnCO,OAAAA,iBAAiB,YAAaN,CAAe,EAC7C,UAAkB,CAChBO,OAAAA,oBAAoB,OAAQR,CAAU,EACtCQ,OAAAA,oBAAoB,YAAaP,CAAe,CAAA,CACzD,EAEF,CAACJ,EAAKC,CAAkB,CAC1B,CACF"}