import{D as b,k as g}from"./preact.module-bf16abf2.js";import{_ as E,p as i}from"./hooks.module-7c0d6ca2.js";import{I as j}from"./icon-cross-32-dd47d561.js";import{c as T}from"./create-class-name-71c46838.js";import{c as L,g as x}from"./create-focus-trap-key-down-handler-e65db33a.js";import{I as R}from"./icon-button-7144d6db.js";import{T as B}from"./text-a9643cae.js";import{o as n}from"./jsxRuntime.module-3e32d480.js";const H="_modal_1pejl_1",k="_noTransition_1pejl_10",D="_center_1pejl_14",F="_open_1pejl_24",I="_bottom_1pejl_29",K="_left_1pejl_39",M="_right_1pejl_49",P="_topBar_1pejl_59",z="_closeButtonLeft_1pejl_69",N="_title_1pejl_73",S="_overlay_1pejl_78",l={modal:H,noTransition:k,center:D,open:F,bottom:I,left:K,right:M,topBar:P,closeButtonLeft:z,title:N,overlay:S},c=[];function W({children:p,closeButtonIcon:_=n(j,{}),closeButtonPosition:y="right",open:o,noTransition:h=!1,onCloseButtonClick:s,onEscapeKeyDown:f,onOverlayClick:a,position:w="center",title:u,...v}){const t=E(null),d=E(null);return i(function(){const e=document.createElement("div");return document.body.appendChild(e),t.current=e,function(){document.body.removeChild(e)}},[]),i(function(){if(t.current===null)throw new Error("`rootElementRef.current` is `null`");const e=L(t.current);function r(m){o===!0&&e(m)}return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}},[o]),i(function(){function e(r){o===!1||r.key!=="Escape"||typeof f>"u"||c[c.length-1]!==t.current||f(r)}return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}},[o,f]),i(function(){if(t.current===null)throw new Error("`rootElementRef.current` is `null`");const e=document.body;if(o===!0){if(c.length===0){const m=e.scrollHeight>window.innerHeight;e.style.cssText+=`position:fixed;overflow-y:${m===!0?"scroll":"hidden"};width:100%;`}c.push(t.current),t.current.style.cssText="position:absolute;top:0;left:0;bottom:0;right:0;z-index:1",d.current=document.activeElement;const r=x(t.current);r.length>0?r[0].focus():d.current.blur()}else c.length===1&&(e.style.removeProperty("position"),e.style.removeProperty("overflow-y"),e.style.removeProperty("width")),c.pop(),t.current.style.cssText="position:static";return function(){d.current!==null&&d.current.focus()}},[o]),i(function(){if(t.current===null)throw new Error("`rootElementRef.current` is `null`");b(n(g,{children:[n("div",{...v,class:T([l.modal,o===!0?l.open:null,h===!0?l.noTransition:null,l[w]]),children:[p,typeof s>"u"&&typeof u>"u"?null:n("div",{class:l.topBar,children:[n("div",{class:l.title,children:typeof u>"u"?null:n(B,{children:n("strong",{children:u})})}),typeof s>"u"?null:n("div",{class:y==="left"?l.closeButtonLeft:void 0,children:n(R,{onClick:s,children:_})})]})]}),n("div",{class:l.overlay,onClick:typeof a>"u"?void 0:a})]}),t.current)},[p,_,y,h,s,a,o,w,v,u]),null}export{W as M};
//# sourceMappingURL=modal-8aff24fa.js.map
