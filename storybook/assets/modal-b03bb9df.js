import{D as b,k as g}from"./preact.module-6cc36cb9.js";import{_ as v,p as l}from"./hooks.module-6e460002.js";import{I as T}from"./icon-cross-32-fec1c7a2.js";import{c as L}from"./create-class-name-71c46838.js";import{c as x,g as R}from"./create-focus-trap-key-down-handler-e65db33a.js";import{I as B}from"./icon-button-8696ab26.js";import{T as k}from"./text-3f7573c7.js";import{o as n}from"./jsxRuntime.module-893eb125.js";const D="_modal_1l77c_1",F="_noTransition_1l77c_10",I="_center_1l77c_14",H="_open_1l77c_24",K="_bottom_1l77c_29",M="_left_1l77c_39",z="_right_1l77c_49",N="_topBar_1l77c_59",j="_closeButtonLeft_1l77c_69",q="_title_1l77c_73",A="_overlay_1l77c_78",o={modal:D,noTransition:F,center:I,open:H,bottom:K,left:M,right:z,topBar:N,closeButtonLeft:j,title:q,overlay:A},f=[];function Y({children:m,closeButtonIcon:_=n(T,{}),closeButtonPosition:p="right",open:r,noTransition:h=!1,onCloseButtonClick:u,onEscapeKeyDown:d,onOverlayClick:a,position:w="center",title:i,...y}){const e=v(null),s=v(null);return l(function(){const t=document.createElement("div");return document.body.appendChild(t),e.current=t,function(){document.body.removeChild(t)}},[]),l(function(){if(e.current===null)throw new Error("`rootElementRef.current` is `null`");const t=x(e.current);function c(E){r===!0&&t(E)}return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}},[r]),l(function(){function t(c){r===!1||c.key!=="Escape"||typeof d>"u"||f[f.length-1]!==e.current||d(c)}return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}},[r,d]),l(function(){if(e.current===null)throw new Error("`rootElementRef.current` is `null`");if(r===!0){f.push(e.current),e.current.style.cssText="position:absolute;top:0;left:0;bottom:0;right:0;z-index:1",s.current=document.activeElement;const t=R(e.current);t.length>0?t[0].focus():s.current.blur()}else f.pop(),e.current.style.cssText="position:static";return function(){s.current!==null&&s.current.focus()}},[r]),l(function(){if(e.current===null)throw new Error("`rootElementRef.current` is `null`");b(n(g,{children:[n("div",{...y,class:L([o.modal,r===!0?o.open:null,h===!0?o.noTransition:null,o[w]]),children:[m,typeof u>"u"&&typeof i>"u"?null:n("div",{class:o.topBar,children:[n("div",{class:o.title,children:typeof i>"u"?null:n(k,{children:n("strong",{children:i})})}),typeof u>"u"?null:n("div",{class:p==="left"?o.closeButtonLeft:void 0,children:n(B,{onClick:u,children:_})})]})]}),n("div",{class:o.overlay,onClick:typeof a>"u"?void 0:a})]}),e.current)},[m,_,p,h,u,a,r,w,y,i]),null}export{Y as M};
//# sourceMappingURL=modal-b03bb9df.js.map
