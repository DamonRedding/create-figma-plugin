{"version":3,"file":"button-b81342dc.js","sources":["../../src/components/button/button.tsx"],"sourcesContent":["import { ComponentChildren, h, JSX } from 'preact'\nimport { useCallback } from 'preact/hooks'\n\nimport { Props } from '../../types/types.js'\nimport { createClassName } from '../../utilities/create-class-name.js'\nimport { LoadingIndicator } from '../loading-indicator/loading-indicator.js'\nimport styles from './button.module.css'\n\nexport type ButtonProps = {\n  children: ComponentChildren\n  danger?: boolean\n  disabled?: boolean\n  fullWidth?: boolean\n  loading?: boolean\n  onClick?: JSX.MouseEventHandler<HTMLButtonElement>\n  propagateEscapeKeyDown?: boolean\n  secondary?: boolean\n}\n\nexport function Button({\n  children,\n  danger = false,\n  disabled = false,\n  fullWidth = false,\n  loading = false,\n  onClick,\n  propagateEscapeKeyDown = true,\n  secondary = false,\n  ...rest\n}: Props<HTMLButtonElement, ButtonProps>): JSX.Element {\n  const handleKeyDown = useCallback(\n    function (event: JSX.TargetedKeyboardEvent<HTMLButtonElement>): void {\n      if (event.key !== 'Escape') {\n        return\n      }\n      if (propagateEscapeKeyDown === false) {\n        event.stopPropagation()\n      }\n      event.currentTarget.blur()\n    },\n    [propagateEscapeKeyDown]\n  )\n\n  return (\n    <div\n      class={createClassName([\n        styles.button,\n        secondary === true ? styles.secondary : styles.default,\n        danger === true ? styles.danger : null,\n        fullWidth === true ? styles.fullWidth : null,\n        disabled === true ? styles.disabled : null,\n        loading === true ? styles.loading : null\n      ])}\n    >\n      {loading === true ? (\n        <div class={styles.loadingIndicator}>\n          <LoadingIndicator />\n        </div>\n      ) : null}\n      <button\n        {...rest}\n        disabled={disabled === true}\n        onClick={disabled === true || loading === true ? undefined : onClick}\n        onKeyDown={\n          disabled === true || loading === true ? undefined : handleKeyDown\n        }\n        tabIndex={disabled === true ? -1 : 0}\n      >\n        <div class={styles.children}>{children}</div>\n      </button>\n    </div>\n  )\n}\n"],"names":["Button","children","danger","disabled","fullWidth","loading","onClick","propagateEscapeKeyDown","secondary","rest","handleKeyDown","useCallback","event","key","stopPropagation","currentTarget","blur","_jsxs","class","createClassName","styles","button","default","_jsx","loadingIndicator","LoadingIndicator","undefined","onKeyDown","tabIndex"],"mappings":"2PAmBO,SAASA,EAAO,CACrBC,SAAAA,EACAC,OAAAA,EAAS,GACTC,SAAAA,EAAW,GACXC,UAAAA,EAAY,GACZC,QAAAA,EAAU,GACVC,QAAAA,EACAC,uBAAAA,EAAyB,GACzBC,UAAAA,EAAY,GACZ,GAAGC,CACkC,EAAgB,CAC/CC,MAAAA,EAAgBC,EACpB,SAAUC,EAA2D,CAC/DA,EAAMC,MAAQ,WAGdN,IAA2B,IAC7BK,EAAME,gBAAgB,EAExBF,EAAMG,cAAcC,OAAK,EAE3B,CAACT,CAAsB,CACzB,EAEA,OACEU,EAAA,MAAA,CACEC,MAAOC,EAAgB,CACrBC,EAAOC,OACPb,IAAc,GAAOY,EAAOZ,UAAYY,EAAOE,QAC/CpB,IAAW,GAAOkB,EAAOlB,OAAS,KAClCE,IAAc,GAAOgB,EAAOhB,UAAY,KACxCD,IAAa,GAAOiB,EAAOjB,SAAW,KACtCE,IAAY,GAAOe,EAAOf,QAAU,IAAI,CACzC,EAAEJ,SAEFI,CAAAA,IAAY,GACXkB,EAAA,MAAA,CAAKL,MAAOE,EAAOI,iBAAiBvB,SAClCsB,EAACE,EAAkB,EAAA,CAAA,CAChB,EACH,KACJF,EAAA,SAAA,CAAA,GACMd,EACJN,SAAUA,IAAa,GACvBG,QAASH,IAAa,IAAQE,IAAY,GAAOqB,OAAYpB,EAC7DqB,UACExB,IAAa,IAAQE,IAAY,GAAOqB,OAAYhB,EAEtDkB,SAAUzB,IAAa,GAAO,GAAK,EAAEF,SAErCsB,EAAA,MAAA,CAAKL,MAAOE,EAAOnB,SAASA,SAAAA,CAAAA,CAAgB,CAAA,CACtC,CAAC,CAAA,CACN,CAET"}