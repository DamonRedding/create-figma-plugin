{"version":3,"file":"disclosure-10ddc329.js","sources":["../../src/components/disclosure/disclosure.tsx"],"sourcesContent":["import { ComponentChildren, Fragment, h, JSX } from 'preact'\nimport { useCallback } from 'preact/hooks'\n\nimport { IconCaretRight16 } from '../../icons/icon-16/icon-caret-right-16.js'\nimport { Props } from '../../types/types.js'\nimport styles from './disclosure.module.css'\n\nexport type DisclosureProps = {\n  children: ComponentChildren\n  onClick: JSX.MouseEventHandler<HTMLInputElement>\n  open: boolean\n  propagateEscapeKeyDown?: boolean\n  title: string\n}\n\nexport function Disclosure({\n  children,\n  onClick,\n  open,\n  propagateEscapeKeyDown = true,\n  title,\n  ...rest\n}: Props<HTMLInputElement, DisclosureProps>): JSX.Element {\n  const handleKeyDown = useCallback(\n    function (event: JSX.TargetedKeyboardEvent<HTMLInputElement>): void {\n      if (event.key !== 'Escape') {\n        return\n      }\n      if (propagateEscapeKeyDown === false) {\n        event.stopPropagation()\n      }\n      event.currentTarget.blur()\n    },\n    [propagateEscapeKeyDown]\n  )\n\n  return (\n    <Fragment>\n      <label class={styles.label}>\n        <input\n          {...rest}\n          checked={open === true}\n          class={styles.input}\n          onClick={onClick}\n          onKeyDown={handleKeyDown}\n          tabIndex={0}\n          type=\"checkbox\"\n        />\n        <div class={styles.title}>\n          <div class={styles.icon}>\n            <IconCaretRight16 />\n          </div>\n          {title}\n        </div>\n      </label>\n      {open === true ? <div class={styles.children}>{children}</div> : null}\n    </Fragment>\n  )\n}\n"],"names":["Disclosure","children","onClick","open","propagateEscapeKeyDown","title","rest","handleKeyDown","useCallback","event","key","stopPropagation","currentTarget","blur","_jsxs","Fragment","class","styles","label","_jsx","checked","input","onKeyDown","tabIndex","type","icon","IconCaretRight16"],"mappings":"iWAeO,SAASA,EAAW,CACzBC,SAAAA,EACAC,QAAAA,EACAC,KAAAA,EACAC,uBAAAA,EAAyB,GACzBC,MAAAA,EACA,GAAGC,CACqC,EAAgB,CAClDC,MAAAA,EAAgBC,EACpB,SAAUC,EAA0D,CAC9DA,EAAMC,MAAQ,WAGdN,IAA2B,IAC7BK,EAAME,gBAAgB,EAExBF,EAAMG,cAAcC,OAAK,EAE3B,CAACT,CAAsB,CACzB,EAEA,OACEU,EAACC,EAAQ,CAAAd,UACPa,EAAA,QAAA,CAAOE,MAAOC,EAAOC,MAAMjB,UACzBkB,EAAA,QAAA,CAAA,GACMb,EACJc,QAASjB,IAAS,GAClBa,MAAOC,EAAOI,MACdnB,QAAAA,EACAoB,UAAWf,EACXgB,SAAU,EACVC,KAAK,UAAA,CACN,EACDV,EAAA,MAAA,CAAKE,MAAOC,EAAOZ,MAAMJ,UACvBkB,EAAA,MAAA,CAAKH,MAAOC,EAAOQ,KAAKxB,SACtBkB,EAACO,EAAkB,EAAA,CAChB,CAAA,EACJrB,CAAK,CAAA,CACH,CAAC,CACD,CAAA,EACNF,IAAS,GAAOgB,EAAA,MAAA,CAAKH,MAAOC,EAAOhB,SAASA,SAAAA,CAAgB,CAAA,EAAI,IAAI,CAAA,CAC7D,CAEd"}