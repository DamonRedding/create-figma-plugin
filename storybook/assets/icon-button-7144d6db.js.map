{"version":3,"file":"icon-button-7144d6db.js","sources":["../../src/components/icon-button/icon-button.tsx"],"sourcesContent":["import { ComponentChildren, h, JSX } from 'preact'\nimport { useCallback } from 'preact/hooks'\n\nimport { Props } from '../../types/types.js'\nimport styles from './icon-button.module.css'\n\nexport type IconButtonProps = {\n  children: ComponentChildren\n  disabled?: boolean\n  onClick?: JSX.MouseEventHandler<HTMLButtonElement>\n  propagateEscapeKeyDown?: boolean\n}\n\nexport function IconButton({\n  children,\n  disabled = false,\n  onClick,\n  propagateEscapeKeyDown = true,\n  ...rest\n}: Props<HTMLButtonElement, IconButtonProps>): JSX.Element {\n  const handleKeyDown = useCallback(\n    function (event: JSX.TargetedKeyboardEvent<HTMLButtonElement>): void {\n      if (event.key !== 'Escape') {\n        return\n      }\n      if (propagateEscapeKeyDown === false) {\n        event.stopPropagation()\n      }\n      event.currentTarget.blur()\n    },\n    [propagateEscapeKeyDown]\n  )\n\n  return (\n    <button\n      {...rest}\n      class={styles.iconButton}\n      disabled={disabled === true}\n      onClick={disabled === true ? undefined : onClick}\n      onKeyDown={disabled === true ? undefined : handleKeyDown}\n      tabIndex={disabled === true ? -1 : 0}\n    >\n      <div class={styles.icon}>{children}</div>\n    </button>\n  )\n}\n"],"names":["IconButton","children","disabled","onClick","propagateEscapeKeyDown","rest","handleKeyDown","useCallback","event","key","stopPropagation","currentTarget","blur","_jsx","class","styles","iconButton","undefined","onKeyDown","tabIndex","icon"],"mappings":"2KAaO,SAASA,EAAW,CACzBC,SAAAA,EACAC,SAAAA,EAAW,GACXC,QAAAA,EACAC,uBAAAA,EAAyB,GACzB,GAAGC,CACsC,EAAgB,CACnDC,MAAAA,EAAgBC,EACpB,SAAUC,EAA2D,CAC/DA,EAAMC,MAAQ,WAGdL,IAA2B,IAC7BI,EAAME,gBAAgB,EAExBF,EAAMG,cAAcC,OAAK,EAE3B,CAACR,CAAsB,CACzB,EAEA,OACES,EAAA,SAAA,CAAA,GACMR,EACJS,MAAOC,EAAOC,WACdd,SAAUA,IAAa,GACvBC,QAASD,IAAa,GAAOe,OAAYd,EACzCe,UAAWhB,IAAa,GAAOe,OAAYX,EAC3Ca,SAAUjB,IAAa,GAAO,GAAK,EAAED,SAErCY,EAAA,MAAA,CAAKC,MAAOC,EAAOK,KAAKnB,SAAAA,CAAAA,CAAgB,CAAA,CAClC,CAEZ"}