{"version":3,"file":"use-initial-focus-83cf3b2e.js","sources":["../../src/hooks/use-initial-focus/use-initial-focus.ts"],"sourcesContent":["import { useEffect } from 'preact/hooks'\n\nconst INITIAL_FOCUS_DATA_ATTRIBUTE_NAME = 'data-initial-focus'\n\nexport type InitialFocus = {\n  [INITIAL_FOCUS_DATA_ATTRIBUTE_NAME]: true\n}\n\nexport function useInitialFocus(): InitialFocus {\n  useEffect(function (): void {\n    const focusableElements = document.querySelectorAll<HTMLElement>(\n      `[${INITIAL_FOCUS_DATA_ATTRIBUTE_NAME}]:not([tabindex=\"-1\"]`\n    )\n    if (focusableElements.length === 0) {\n      throw new Error(\n        `No element with attribute \\`${INITIAL_FOCUS_DATA_ATTRIBUTE_NAME}\\``\n      )\n    }\n    if (focusableElements.length > 1) {\n      // Find and focus the first `checked` radio button `input` element\n      const checkedRadioButtonInputElement = Array.prototype.slice\n        .call(focusableElements)\n        .find(function (focusableElement: HTMLElement) {\n          const inputElement = focusableElement as HTMLInputElement\n          return inputElement.type === 'radio' && inputElement.checked === true\n        })\n      if (typeof checkedRadioButtonInputElement !== 'undefined') {\n        checkedRadioButtonInputElement.focus()\n        return\n      }\n    }\n    focusableElements[0].focus()\n  }, [])\n  return {\n    [INITIAL_FOCUS_DATA_ATTRIBUTE_NAME]: true\n  }\n}\n"],"names":["INITIAL_FOCUS_DATA_ATTRIBUTE_NAME","useInitialFocus","useEffect","focusableElements","document","querySelectorAll","length","Error","checkedRadioButtonInputElement","Array","prototype","slice","call","find","focusableElement","inputElement","type","checked","focus"],"mappings":"+CAEA,MAAMA,EAAoC,qBAMnC,SAASC,GAAgC,CAC9CC,OAAAA,EAAU,UAAkB,CAC1B,MAAMC,EAAoBC,SAASC,iBAChC,IAAGL,wBACN,EACIG,GAAAA,EAAkBG,SAAW,EACzB,MAAA,IAAIC,MACP,+BAA8BP,KACjC,EAEEG,GAAAA,EAAkBG,OAAS,EAAG,CAE1BE,MAAAA,EAAiCC,MAAMC,UAAUC,MACpDC,KAAKT,CAAiB,EACtBU,KAAK,SAAUC,EAA+B,CAC7C,MAAMC,EAAeD,EACrB,OAAOC,EAAaC,OAAS,SAAWD,EAAaE,UAAY,EAAA,CAClE,EACC,GAAA,OAAOT,EAAmC,IAAa,CACzDA,EAA+BU,MAAM,EACrC,QAGcf,EAAA,CAAC,EAAEe,OACvB,EAAG,CAAE,CAAA,EACE,CACL,CAAClB,CAAiC,EAAG,EAAA,CAEzC"}