(()=>{function a(e){if(e===document.body)return null;if(e.tagName!=="A")return a(e.parentElement);let t=e.getAttribute("href");return t===null||t[0]!=="#"?null:t.slice(1)}var S=".menu",_=".menu-toggle-button",f="--menu-visible",g=960;function w(){let e=document.querySelector(S),t=document.querySelector(_);function r(){document.body.classList.contains(f)===!0?document.body.classList.remove(f):document.body.classList.add(f),t.setAttribute("aria-expanded",t.getAttribute("aria-expanded")==="true"?"false":"true")}function l(n){window.innerWidth<g&&e.contains(n.target)&&a(n.target)!==null&&r()}e.addEventListener("click",l);function i(){r()}t.addEventListener("click",i);function u(n){document.body.classList.contains(f)===!1||t===n.target||e.contains(n.target)===!0||r()}window.addEventListener("click",u)}var y=".menu__toc",E="menu__active",Y="h2[id], h3[id], h4[id]";function h(){window.history.scrollRestoration="manual";let e=document.querySelector(y);if(e===null)return;let t=L();function r(o,{pushState:c}){let s=t.find(function(T){return T.id===o});if(typeof s=="undefined")return l(),!1;let p={scrollY:s.scrollY};return c===!0?history.pushState(p,null,`#${o}`):history.replaceState(p,null,`#${o}`),window.scrollTo({top:s.scrollY}),l(),!0}function l(){let o=e.querySelector(`.${E}`);o!==null&&o.classList.remove(E);let c=A(t);if(c===null)return;let s=e.querySelector(`[href="#${c}"]`);s!==null&&s.classList.add(E)}function i(o){if(o.metaKey===!0||o.shiftKey===!0)return;let c=a(o.target);c!==null&&r(c,{pushState:!0})===!0&&o.preventDefault()}window.addEventListener("click",i);function u(o){if(o.preventDefault(),o.state===null){window.scrollTo({top:0});return}window.scrollTo({top:o.state.scrollY})}window.addEventListener("popstate",u);function n(){t=L(),d()}window.addEventListener("resize",n);function d(){l(),history.replaceState({scrollY:window.scrollY},null,window.location.hash)}window.addEventListener("scroll",d);let m=window.location.hash.slice(1);m!==""&&r(m,{pushState:!1})}function L(){let e=Array.prototype.slice.call(document.body.querySelectorAll(Y)),t=[];for(let n of e)t.push({id:n.getAttribute("id"),scrollY:n.offsetTop});let r=document.documentElement.offsetHeight-window.innerHeight,l=t[t.length-1].scrollY;if(l<=r)return t;let i=r-window.innerHeight,u=window.innerHeight/(l-i);return t.map(function(n,d){return n.scrollY<=i?n:d===t.length-1?{...n,scrollY:r}:{...n,scrollY:Math.round(i+(n.scrollY-i)*u)}})}function A(e){for(let t of e.slice().reverse())if(t.scrollY<=window.scrollY)return t.id;return null}function M(){w(),h()}M();})();
