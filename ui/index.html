<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>UI — Create Figma Plugin</title><meta name="description"content="The comprehensive toolkit for developing plugins and widgets for Figma and FigJam"><meta name="twitter:card"content="summary_large_image"><meta name="twitter:description"content="The comprehensive toolkit for developing plugins and widgets for Figma and FigJam"><meta name="twitter:image"content="https://yuanqing.github.io/create-figma-plugin/media/share.png"><meta name="twitter:title"content="UI — Create Figma Plugin"><meta name="viewport"content="width=device-width,initial-scale=1"><meta property="og:description"content="The comprehensive toolkit for developing plugins and widgets for Figma and FigJam"><meta property="og:image"content="https://yuanqing.github.io/create-figma-plugin/media/share.png"><meta property="og:title"content="UI — Create Figma Plugin"><link href="/create-figma-plugin/style.css"rel="stylesheet"><link rel="icon"href="data:image/svg+xml,%3Csvg viewBox='0 0 100 100' fill='%2318A0FB' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='50' cy='50' r='50' /%3E%3C/svg%3E"></head><body class="page"><div class="page__skip-to-content"><a href="#content">Skip to content</a></div><header class="page__header"><h1 class="title"><a href="/create-figma-plugin/">Create Figma Plugin</a></h1><button class="menu-toggle-button"aria-expanded="false"><div class="menu-toggle-button__inner">Toggle menu</div><svg fill="none"viewBox="0 0 20 20"class="menu-toggle-button__svg-menu"><path fill-rule="evenodd"d="M0 3.25h20v1.5H0v-1.5Zm0 6h20v1.5H0v-1.5Zm20 6H0v1.5h20v-1.5Z"clip-rule="evenodd"/></svg> <svg fill="none"viewBox="0 0 20 20"class="menu-toggle-button__svg-close"><path fill-rule="evenodd"d="M10 11.0607L16.4697 17.5303L17.5303 16.4697L11.0607 10L17.5303 3.53033L16.4697 2.46967L10 8.93934L3.53033 2.46967L2.46967 3.53033L8.93934 10L2.46967 16.4697L3.53033 17.5303L10 11.0607Z"clip-rule="evenodd"/></svg></button><nav class="menu"><ul><li><a href="/create-figma-plugin/">Introduction</a></li><li><a href="/create-figma-plugin/quick-start/">Quick start</a></li><li><a href="/create-figma-plugin/configuration/">Configuration</a></li><li><a href="/create-figma-plugin/ui/"class="menu__active">UI</a><div class="menu__toc"><h2 class="menu__toc-header">On this page</h2><ul><li><a href="#using-the-preact-component-library">Using the Preact component library</a></li><li><a href="#using-react">Using React</a></li><li><a href="#using-custom-css">Using custom CSS</a></li><li><a href="#using-a-custom-ui-library">Using a custom UI library</a></li></ul></div></li><li><a href="/create-figma-plugin/utilities/">Utilities</a></li><li><a href="/create-figma-plugin/recipes/">Recipes</a></li><li><a href="/create-figma-plugin/reference-plugins-and-widgets/">Reference plugins/widgets</a></li></ul><ul><li><a href="/create-figma-plugin/storybook/"target="_blank">Storybook</a></li><li><a href="https://github.com/yuanqing/create-figma-plugin/blob/main/CHANGELOG.md#readme"target="_blank">Changelog</a></li><li><a href="https://github.com/yuanqing/create-figma-plugin"target="_blank">GitHub</a></li><li><a href="https://twitter.com/yuanqinglim"target="_blank">@yuanqinglim</a></li></ul><ul><li><a href="https://figma.com/plugin-docs/"target="_blank">Plugin API docs</a></li><li><a href="https://figma.com/widget-docs/"target="_blank">Widget API docs</a></li></ul><div class="menu__version">v1.8.2</div></nav></header><main role="main"class="page__main"><div class="page__main-inner"><div class="content"id="content"><h1>UI</h1><h2 id="using-the-preact-component-library">Using the Preact component library<a aria-hidden class="header-link"tabindex="-1"href="#using-the-preact-component-library">#</a></h2><p><code>@create-figma-plugin/ui</code> is a library of production-grade <a href="https://preactjs.com"target="_blank">Preact</a> components that replicate the Figma/FigJam editor’s UI design.</p><p><a href="/create-figma-plugin/storybook/"><img src="/create-figma-plugin/media/ui-figma-components.png"alt="UI components from @create-figma-plugin/ui: Button, File Upload Dropzone, Textbox Numeric, Textbox Autocomplete, Checkbox, Selectable Item, Segmented Control"></a></p><p>See the <a href="/create-figma-plugin/storybook/">full library of components in the Storybook</a>.</p><p>The component library ships with two themes, one for Figma and one for FigJam. Components will automatically render using the Figma theme if the UI is launched from a Figma plugin, and the FigJam theme if the UI is launched from a FigJam plugin/widget.</p><p><img src="/create-figma-plugin/media/ui-themes.png"alt="UI of the Insert Big Image plugin rendered using the Figma and FigJam themes"></p><p>To install, do:</p><span data-rehype-pretty-code-fragment=""><pre><code data-language="sh"data-theme="default"><span class="line"><span style="color:#c9d1d9">$ npm install @create-figma-plugin/ui preact</span></span></code></pre></span><p>Then, include a call to <a href="/create-figma-plugin/utilities/#showuidataoptions--data"><code>showUI</code></a> in your plugin/widget’s main entry point.</p><p>Consider a toy Figma plugin:</p><span data-rehype-pretty-code-fragment=""><pre><code data-language="ts"data-theme="default"><span class="line"><span style="color:#8b949e">// src/main.ts</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#ff7b72">import</span><span style="color:#c9d1d9"> { showUI } </span><span style="color:#ff7b72">from</span><span style="color:#c9d1d9"> </span><span style="color:#a5d6ff">'@create-figma-plugin/utilities'</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#ff7b72">export</span><span style="color:#ffa657"> </span><span style="color:#ff7b72">default</span><span style="color:#ffa657"> </span><span style="color:#ff7b72">function</span><span style="color:#ffa657"> () </span><span style="color:#c9d1d9">{</span></span>
<span class="line"><span style="color:#c9d1d9">  </span><span style="color:#ff7b72">const</span><span style="color:#c9d1d9"> </span><span style="color:#79c0ff">options</span><span style="color:#c9d1d9"> </span><span style="color:#ff7b72">=</span><span style="color:#c9d1d9"> { width: </span><span style="color:#79c0ff">240</span><span style="color:#c9d1d9">, height: </span><span style="color:#79c0ff">120</span><span style="color:#c9d1d9"> }</span></span>
<span class="line"><span style="color:#c9d1d9">  </span><span style="color:#ff7b72">const</span><span style="color:#c9d1d9"> </span><span style="color:#79c0ff">data</span><span style="color:#c9d1d9"> </span><span style="color:#ff7b72">=</span><span style="color:#c9d1d9"> { greeting: </span><span style="color:#a5d6ff">'Hello, World!'</span><span style="color:#c9d1d9"> }</span></span>
<span class="line"><span style="color:#c9d1d9">  </span><span style="color:#d2a8ff">showUI</span><span style="color:#c9d1d9">(options, data)</span></span>
<span class="line"><span style="color:#c9d1d9">}</span></span></code></pre></span><p><code>showUI</code> takes two arguments, and the second <code>data</code> argument is useful for passing some initializing data to the UI.</p><p>Next, create a file for our UI (eg. <code>src/ui.tsx</code>):</p><span data-rehype-pretty-code-fragment=""><pre><code data-language="tsx"data-theme="default"><span class="line"><span style="color:#8b949e">// src/ui.tsx</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#ff7b72">import</span><span style="color:#c9d1d9"> { render, Container, Text, VerticalSpace } </span><span style="color:#ff7b72">from</span><span style="color:#c9d1d9"> </span><span style="color:#a5d6ff">'@create-figma-plugin/ui'</span></span>
<span class="line"><span style="color:#ff7b72">import</span><span style="color:#c9d1d9"> { h } </span><span style="color:#ff7b72">from</span><span style="color:#c9d1d9"> </span><span style="color:#a5d6ff">'preact'</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#ff7b72">function</span><span style="color:#c9d1d9"> </span><span style="color:#d2a8ff">Plugin</span><span style="color:#c9d1d9"> (</span><span style="color:#ffa657">props</span><span style="color:#ff7b72">:</span><span style="color:#c9d1d9"> { </span><span style="color:#ffa657">greeting</span><span style="color:#ff7b72">:</span><span style="color:#c9d1d9"> </span><span style="color:#79c0ff">string</span><span style="color:#c9d1d9"> }) {</span></span>
<span class="line"><span style="color:#c9d1d9">  </span><span style="color:#ff7b72">return</span><span style="color:#c9d1d9"> (</span></span>
<span class="line"><span style="color:#c9d1d9">    &#x3C;</span><span style="color:#7ee787">Container</span><span style="color:#c9d1d9"> </span><span style="color:#79c0ff">space</span><span style="color:#ff7b72">=</span><span style="color:#a5d6ff">'medium'</span><span style="color:#c9d1d9">></span></span>
<span class="line"><span style="color:#c9d1d9">      &#x3C;</span><span style="color:#7ee787">VerticalSpace</span><span style="color:#c9d1d9"> </span><span style="color:#79c0ff">space</span><span style="color:#ff7b72">=</span><span style="color:#a5d6ff">'medium'</span><span style="color:#c9d1d9"> /></span></span>
<span class="line"><span style="color:#c9d1d9">      &#x3C;</span><span style="color:#7ee787">Text</span><span style="color:#c9d1d9">>{props.greeting}&#x3C;/</span><span style="color:#7ee787">Text</span><span style="color:#c9d1d9">></span></span>
<span class="line"><span style="color:#c9d1d9">      &#x3C;</span><span style="color:#7ee787">VerticalSpace</span><span style="color:#c9d1d9"> </span><span style="color:#79c0ff">space</span><span style="color:#ff7b72">=</span><span style="color:#a5d6ff">'medium'</span><span style="color:#c9d1d9"> /></span></span>
<span class="line"><span style="color:#c9d1d9">    &#x3C;/</span><span style="color:#7ee787">Container</span><span style="color:#c9d1d9">></span></span>
<span class="line"><span style="color:#c9d1d9">  )</span></span>
<span class="line"><span style="color:#c9d1d9">}</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#ff7b72">export</span><span style="color:#ffa657"> </span><span style="color:#ff7b72">default</span><span style="color:#ffa657"> </span><span style="color:#d2a8ff">render</span><span style="color:#ffa657">(</span><span style="color:#c9d1d9">Plugin</span><span style="color:#ffa657">)</span></span></code></pre></span><p>See that:</p><ul><li><code>render</code> takes a single argument, <code>Plugin</code>, which is a <a href="https://preactjs.com/guide/v10/components#functional-components"target="_blank">Preact functional component</a>.</li><li>The <code>props</code> received by the <code>Plugin</code> component is precisely the <code>data</code> object that was passed to <code>showUI</code> from the plugin/widget’s main entry point.</li></ul><p>Finally, in <code>package.json</code>, point to our UI file on the <a href="/create-figma-plugin/configuration/#ui"><strong><code>"ui"</code></strong></a> key under <strong><code>"figma-plugin"</code></strong>:</p><span data-rehype-pretty-code-fragment=""><pre><code data-language="json"data-theme="default"><span class="line"><span style="color:#c9d1d9">{</span></span>
<span class="line"><span style="color:#c9d1d9">  </span><span style="color:#8b949e">// ...</span></span>
<span class="line"><span style="color:#c9d1d9">  </span><span style="color:#79c0ff">"figma-plugin"</span><span style="color:#c9d1d9">: {</span></span>
<span class="line"><span style="color:#c9d1d9">    </span><span style="color:#8b949e">// ...</span></span>
<span class="line"><span style="color:#c9d1d9">    </span><span style="color:#79c0ff">"name"</span><span style="color:#c9d1d9">: </span><span style="color:#a5d6ff">"Hello World"</span><span style="color:#c9d1d9">,</span></span>
<span class="line"><span style="color:#c9d1d9">    </span><span style="color:#79c0ff">"main"</span><span style="color:#c9d1d9">: </span><span style="color:#a5d6ff">"src/main.ts"</span><span style="color:#c9d1d9">,</span></span>
<span class="line line--highlighted"><span style="color:#c9d1d9">    </span><span style="color:#79c0ff">"ui"</span><span style="color:#c9d1d9">: </span><span style="color:#a5d6ff">"src/ui.tsx"</span></span>
<span class="line"><span style="color:#c9d1d9">  }</span></span>
<span class="line"><span style="color:#c9d1d9">}</span></span></code></pre></span><p>When we rebuild our plugin and run it, we’ll see:</p><p><img src="/create-figma-plugin/media/ui-hello-world-figma.png"alt="Figma plugin UI modal with “Hello, World” text"></p><p>See the <a href="/create-figma-plugin/storybook/">Storybook</a> for the full library of Preact components, and the <a href="/create-figma-plugin/recipes/#passing-data-between-the-pluginwidgets-main-and-ui-contexts">recipe for passing data between the plugin/widget’s main and UI contexts</a>.</p><h2 id="using-react">Using React<a aria-hidden class="header-link"tabindex="-1"href="#using-react">#</a></h2><p>When building your plugin/widget, the <code>build-figma-plugin</code> CLI will detect and automatically swap out all <code>react</code> and <code>react-dom</code> imports with <a href="https://preactjs.com/guide/v10/switching-to-preact/"target="_blank"><code>preact/compat</code></a>. This means that it’s possible to seamlessly use React components alongside the Preact components from the <code>@create-figma-plugin/ui</code> library.</p><p>(If you still prefer to bundle React rather than Preact, see the <a href="/create-figma-plugin/recipes/#disabling-automatic-swapping-of-react-imports">recipe to disable the automatic swapping of React imports</a>.)</p><p>To use React components in your UI, ensure that <code>react</code> and <code>@types/react</code> are installed:</p><pre><code>$ npm install --save-dev react @types/react
</code></pre><p>For a runnable example, try the <a href="https://github.com/yuanqing/create-figma-plugin/tree/main/packages/create-figma-plugin/templates/plugin/react-editor"target="_blank"><code>react-editor</code></a> plugin template:</p><pre><code>$ npx --yes create-figma-plugin --template plugin/react-editor
</code></pre><h2 id="using-custom-css">Using custom CSS<a aria-hidden class="header-link"tabindex="-1"href="#using-custom-css">#</a></h2><p>Out of the box, the <code>build-figma-plugin</code> CLI supports <a href="https://github.com/css-modules/css-modules"target="_blank">CSS Modules</a>:</p><span data-rehype-pretty-code-fragment=""><pre><code data-language="css"data-theme="default"><span class="line"><span style="color:#8b949e">/* src/styles.css */</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#79c0ff">.container</span><span style="color:#c9d1d9"> {</span></span>
<span class="line"><span style="color:#c9d1d9">  </span><span style="color:#79c0ff">background-color</span><span style="color:#c9d1d9">: </span><span style="color:#79c0ff">var</span><span style="color:#c9d1d9">(</span><span style="color:#ffa657">--color-silver</span><span style="color:#c9d1d9">);</span></span>
<span class="line"><span style="color:#c9d1d9">}</span></span></code></pre></span><span data-rehype-pretty-code-fragment=""><pre><code data-language="tsx"data-theme="default"><span class="line"><span style="color:#8b949e">// src/ui.tsx</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#ff7b72">import</span><span style="color:#c9d1d9"> { render } </span><span style="color:#ff7b72">from</span><span style="color:#c9d1d9"> </span><span style="color:#a5d6ff">'@create-figma-plugin/ui'</span></span>
<span class="line"><span style="color:#ff7b72">import</span><span style="color:#c9d1d9"> { h } </span><span style="color:#ff7b72">from</span><span style="color:#c9d1d9"> </span><span style="color:#a5d6ff">'preact'</span></span>
<span class="line"><span style="color:#ff7b72">import</span><span style="color:#c9d1d9"> styles </span><span style="color:#ff7b72">from</span><span style="color:#c9d1d9"> </span><span style="color:#a5d6ff">'./styles.css'</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#ff7b72">function</span><span style="color:#c9d1d9"> </span><span style="color:#d2a8ff">Plugin</span><span style="color:#c9d1d9"> () {</span></span>
<span class="line"><span style="color:#c9d1d9">  </span><span style="color:#8b949e">// ...</span></span>
<span class="line"><span style="color:#c9d1d9">  </span><span style="color:#ff7b72">return</span><span style="color:#c9d1d9"> (</span></span>
<span class="line"><span style="color:#c9d1d9">    &#x3C;</span><span style="color:#7ee787">div</span><span style="color:#c9d1d9"> </span><span style="color:#79c0ff">class</span><span style="color:#ff7b72">=</span><span style="color:#c9d1d9">{styles.container}></span></span>
<span class="line"><span style="color:#c9d1d9">      {</span><span style="color:#8b949e">/* ... */</span><span style="color:#c9d1d9">}</span></span>
<span class="line"><span style="color:#c9d1d9">    &#x3C;/</span><span style="color:#7ee787">div</span><span style="color:#c9d1d9">></span></span>
<span class="line"><span style="color:#c9d1d9">  )</span></span>
<span class="line"><span style="color:#c9d1d9">}</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#ff7b72">export</span><span style="color:#ffa657"> </span><span style="color:#ff7b72">default</span><span style="color:#ffa657"> </span><span style="color:#d2a8ff">render</span><span style="color:#ffa657">(</span><span style="color:#c9d1d9">Plugin</span><span style="color:#ffa657">)</span></span></code></pre></span><p>By default, all the class names in CSS files imported via an <code>import</code> statement (as in the above example) will be hashed. This is to ensure that <a href="https://github.com/css-modules/css-modules#implementations"target="_blank">each class name is globally unique</a>.</p><p>To directly “inline” a CSS file in your UI <em>without</em> hashing its class names, add a <code>!</code> prefix to the import path:</p><span data-rehype-pretty-code-fragment=""><pre><code data-language="tsx"data-theme="default"><span class="line"><span style="color:#8b949e">// src/ui.tsx</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#ff7b72">import</span><span style="color:#c9d1d9"> { render } </span><span style="color:#ff7b72">from</span><span style="color:#c9d1d9"> </span><span style="color:#a5d6ff">'@create-figma-plugin/ui'</span></span>
<span class="line"><span style="color:#ff7b72">import</span><span style="color:#c9d1d9"> { h } </span><span style="color:#ff7b72">from</span><span style="color:#c9d1d9"> </span><span style="color:#a5d6ff">'preact'</span></span>
<span class="line"><span style="color:#ff7b72">import</span><span style="color:#c9d1d9"> </span><span style="color:#a5d6ff">'!./styles.css'</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#ff7b72">function</span><span style="color:#c9d1d9"> </span><span style="color:#d2a8ff">Plugin</span><span style="color:#c9d1d9"> () {</span></span>
<span class="line"><span style="color:#c9d1d9">  </span><span style="color:#8b949e">// ...</span></span>
<span class="line"><span style="color:#c9d1d9">  </span><span style="color:#ff7b72">return</span><span style="color:#c9d1d9"> (</span></span>
<span class="line"><span style="color:#c9d1d9">    &#x3C;</span><span style="color:#7ee787">div</span><span style="color:#c9d1d9"> </span><span style="color:#79c0ff">class</span><span style="color:#ff7b72">=</span><span style="color:#a5d6ff">"container"</span><span style="color:#c9d1d9">></span></span>
<span class="line"><span style="color:#c9d1d9">      {</span><span style="color:#8b949e">/* ... */</span><span style="color:#c9d1d9">}</span></span>
<span class="line"><span style="color:#c9d1d9">    &#x3C;/</span><span style="color:#7ee787">div</span><span style="color:#c9d1d9">></span></span>
<span class="line"><span style="color:#c9d1d9">  )</span></span>
<span class="line"><span style="color:#c9d1d9">}</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#ff7b72">export</span><span style="color:#ffa657"> </span><span style="color:#ff7b72">default</span><span style="color:#ffa657"> </span><span style="color:#d2a8ff">render</span><span style="color:#ffa657">(</span><span style="color:#c9d1d9">Plugin</span><span style="color:#ffa657">)</span></span></code></pre></span><p>Refer to the <a href="https://github.com/yuanqing/create-figma-plugin/blob/main/packages/ui/src/css/base.css"target="_blank"><code>base.css</code></a> file in <code>@create-figma-plugin/ui</code> for the list of CSS variables that are available for use in your custom CSS.</p><h2 id="using-a-custom-ui-library">Using a custom UI library<a aria-hidden class="header-link"tabindex="-1"href="#using-a-custom-ui-library">#</a></h2><p>To use a custom UI library instead of <code>@create-figma-plugin/ui</code>, write your UI implementation as follows:</p><span data-rehype-pretty-code-fragment=""><pre><code data-language="ts"data-theme="default"><span class="line"><span style="color:#8b949e">// src/ui.ts</span></span>
<span class="line"> </span>
<span class="line"><span style="color:#ff7b72">export</span><span style="color:#ffa657"> </span><span style="color:#ff7b72">default</span><span style="color:#ffa657"> </span><span style="color:#ff7b72">function</span><span style="color:#ffa657"> (rootNode</span><span style="color:#ff7b72">:</span><span style="color:#ffa657"> HTMLElement, data</span><span style="color:#ff7b72">:</span><span style="color:#ffa657"> { greeting</span><span style="color:#ff7b72">:</span><span style="color:#ffa657"> </span><span style="color:#79c0ff">string</span><span style="color:#ffa657"> }) </span><span style="color:#c9d1d9">{</span></span>
<span class="line"><span style="color:#c9d1d9">  rootNode.innerHTML </span><span style="color:#ff7b72">=</span><span style="color:#c9d1d9"> </span><span style="color:#a5d6ff">`&#x3C;p>${</span><span style="color:#c9d1d9">data</span><span style="color:#a5d6ff">.</span><span style="color:#c9d1d9">greeting</span><span style="color:#a5d6ff">}&#x3C;/p>`</span><span style="color:#c9d1d9"> </span><span style="color:#8b949e">//=> &#x3C;p>Hello, World!&#x3C;/p></span></span>
<span class="line"><span style="color:#c9d1d9">}</span></span></code></pre></span><p>The exported function receives two arguments:</p><ul><li><code>rootNode</code> — An empty <code>&#x3C;div></code> element within which you can render your UI.</li><li><code>data</code> — This corresponds to the <code>data</code> object that was passed to <code>showUI</code> from the plugin/widget’s main entry point.</li></ul></div><ul class="pagination"><li class="pagination__previous"><a href="/create-figma-plugin/configuration/">Configuration</a></li><li class="pagination__next"><a href="/create-figma-plugin/utilities/">Utilities</a></li></ul></div></main><script src="/create-figma-plugin/script.js"></script><script>var sc_project=12531644,sc_invisible=1,sc_security="95d0263e"</script><script async src="https://www.statcounter.com/counter/counter.js"></script><noscript><img src="https://c.statcounter.com/12531644/0/95d0263e/1/"alt=""></noscript></body></html>