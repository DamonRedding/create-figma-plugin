<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>UI &mdash; Create Figma Plugin</title><meta property="og:title"content="UI"><meta name="twitter:title"content="UI"><meta name="viewport"content="width=device-width,initial-scale=1"><link href="/create-figma-plugin/style.css"rel="stylesheet"></head><body class="page"><div class="page__skip-to-content"><a href="#content">Skip to content</a></div><header class="page__header"><h1 class="title"><a href="/create-figma-plugin/">Create Figma Plugin</a></h1><button class="menu-toggle-button"aria-expanded="false"><div class="menu-toggle-button__inner">Toggle menu</div></button><nav class="menu"><ul><li><a href="/create-figma-plugin/">Introduction</a></li><li><a href="/create-figma-plugin/quick-start/">Quick start</a></li><li><a href="/create-figma-plugin/configuration/">Configuration</a></li><li><a href="/create-figma-plugin/ui/"class="menu__active">UI</a><div class="menu__toc"><ul><li><a href="#using-the-preact-component-library">Using the Preact component library</a></li><li><a href="#using-react">Using React</a></li><li><a href="#using-custom-css">Using custom CSS</a></li><li><a href="#using-a-custom-ui-library">Using a custom UI library</a></li></ul></div></li><li><a href="/create-figma-plugin/utilities/">Utilities</a></li><li><a href="/create-figma-plugin/recipes/">Recipes</a></li><li><a href="/create-figma-plugin/reference-plugins-and-widgets/">Reference plugins/widgets</a></li></ul><ul><li><a href="/create-figma-plugin/storybook/"target="_blank">Storybook</a></li><li><a href="https://github.com/yuanqing/create-figma-plugin/blob/main/CHANGELOG.md#readme"target="_blank">Changelog</a></li><li><a href="https://github.com/yuanqing/create-figma-plugin"target="_blank">GitHub</a></li><li><a href="https://twitter.com/yuanqinglim"target="_blank">@yuanqinglim</a></li></ul><ul><li><a href="https://figma.com/plugin-docs/"target="_blank">Plugin API docs</a></li><li><a href="https://figma.com/widget-docs/"target="_blank">Widget API docs</a></li></ul><div class="menu__version">v1.8.2-alpha.0</div></nav></header><main role="main"class="page__main"><div class="page__main-inner"><div class="content"id="content"><h1 id="ui">UI</h1><h2 id="using-the-preact-component-library">Using the Preact component library<a aria-hidden class="content__header-link"tabindex="-1"href="#using-the-preact-component-library">#</a></h2><p><code>@create-figma-plugin/ui</code> is a library of production-grade <a href="https://preactjs.com"target="_blank">Preact</a> components that replicate the Figma/FigJam editor’s UI design.</p><p><a href="/create-figma-plugin/storybook/"><img src="/create-figma-plugin/media/ui-figma-components.png"alt="UI components from @create-figma-plugin/ui: Button, File Upload Dropzone, Textbox Numeric, Textbox Autocomplete, Checkbox, Selectable Item, Segmented Control"></a></p><p>See the <a href="/create-figma-plugin/storybook/">full library of components in the Storybook</a>.</p><p>The component library ships with two themes, one for Figma and one for FigJam. Components will automatically render using the Figma theme if the UI is launched from a Figma plugin, and the FigJam theme if the UI is launched from a FigJam plugin/widget.</p><p><img src="/create-figma-plugin/media/ui-themes.png"alt="UI of the Insert Big Image plugin rendered using the Figma and FigJam themes"></p><p>To install, do:</p><pre><code>$ npm install @create-figma-plugin/ui preact
</code></pre><p>Then, include a call to <a href="/create-figma-plugin/utilities/#showuidataoptions--data"><code>showUI</code></a> in your plugin/widget’s main entry point.</p><p>Consider a toy Figma plugin:</p><pre><code class="hljs language-ts"><span class="hljs-comment">// src/main.ts</span>

<span class="hljs-keyword">import</span> { showUI } <span class="hljs-keyword">from</span> <span class="hljs-string">'@create-figma-plugin/utilities'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> options = { <span class="hljs-attr">width</span>: <span class="hljs-number">240</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">120</span> }
  <span class="hljs-keyword">const</span> data = { <span class="hljs-attr">greeting</span>: <span class="hljs-string">'Hello, World!'</span> }
  <span class="hljs-title hljs-function">showUI</span>(options, data)
}
</code></pre><p><code>showUI</code> takes two arguments, and the second <code>data</code> argument is useful for passing some initializing data to the UI.</p><p>Next, create a file for our UI (eg. <code>src/ui.tsx</code>):</p><pre><code class="hljs language-ts"><span class="hljs-comment">// src/ui.tsx</span>

<span class="hljs-keyword">import</span> { render, <span class="hljs-title hljs-class">Container</span>, <span class="hljs-title hljs-class">Text</span>, <span class="hljs-title hljs-class">VerticalSpace</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@create-figma-plugin/ui'</span>
<span class="hljs-keyword">import</span> { h } <span class="hljs-keyword">from</span> <span class="hljs-string">'preact'</span>

<span class="hljs-keyword">function</span> <span class="hljs-title hljs-function">Plugin</span> (<span class="hljs-attr">props</span>: { <span class="hljs-attr">greeting</span>: <span class="hljs-built_in">string</span> }) {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">Container</span> <span class="hljs-attr">space</span>=<span class="hljs-string">'medium'</span>></span>
      <span class="hljs-tag">&#x3C;<span class="hljs-name">VerticalSpace</span> <span class="hljs-attr">space</span>=<span class="hljs-string">'medium'</span> /></span>
      <span class="hljs-tag">&#x3C;<span class="hljs-name">Text</span>></span>{props.greeting}<span class="hljs-tag">&#x3C;/<span class="hljs-name">Text</span>></span>
      <span class="hljs-tag">&#x3C;<span class="hljs-name">VerticalSpace</span> <span class="hljs-attr">space</span>=<span class="hljs-string">'medium'</span> /></span>
    <span class="hljs-tag">&#x3C;/<span class="hljs-name">Container</span>></span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title hljs-function">render</span>(<span class="hljs-title hljs-class">Plugin</span>)
</code></pre><p>See that:</p><ul><li><code>render</code> takes a single argument, <code>Plugin</code>, which is a <a href="https://preactjs.com/guide/v10/components#functional-components"target="_blank">Preact functional component</a>.</li><li>The <code>props</code> received by the <code>Plugin</code> component is precisely the <code>data</code> object that was passed to <code>showUI</code> from the plugin/widget’s main entry point.</li></ul><p>Finally, in <code>package.json</code>, point to our UI file on the <a href="/create-figma-plugin/configuration/#ui"><strong><code>"ui"</code></strong></a> key under <strong><code>"figma-plugin"</code></strong>:</p><pre><code class="hljs language-diff">  {
    ...
    "figma-plugin": {
      ...
      "name": "Hello World",
      "main": "src/main.ts",
<span class="hljs-addition">+     "ui": "src/ui.tsx"</span>
    }
  }
</code></pre><p>When we rebuild our plugin and run it, we’ll see:</p><p><img src="/create-figma-plugin/media/ui-hello-world-figma.png"alt="Figma plugin UI modal with “Hello, World” text"></p><p>See the <a href="/create-figma-plugin/storybook/">Storybook</a> for the full library of Preact components, and the <a href="/create-figma-plugin/recipes/#passing-data-between-the-pluginwidgets-main-and-ui-contexts">recipe for passing data between the plugin/widget’s main and UI contexts</a>.</p><h2 id="using-react">Using React<a aria-hidden class="content__header-link"tabindex="-1"href="#using-react">#</a></h2><p>When building your plugin/widget, the <code>build-figma-plugin</code> CLI will detect and automatically swap out all <code>react</code> and <code>react-dom</code> imports with <a href="https://preactjs.com/guide/v10/switching-to-preact/"target="_blank"><code>preact/compat</code></a>. This means that it’s possible to seamlessly use React components alongside the Preact components from the <code>@create-figma-plugin/ui</code> library.</p><p>(If you still prefer to bundle React rather than Preact, see the <a href="/create-figma-plugin/recipes/#disabling-automatic-swapping-of-react-imports">recipe to disable the automatic swapping of React imports</a>.)</p><p>To use React components in your UI, ensure that <code>react</code> and <code>@types/react</code> are installed:</p><pre><code>$ npm install --save-dev react @types/react
</code></pre><p>For a runnable example, try the <a href="https://github.com/yuanqing/create-figma-plugin/tree/main/packages/create-figma-plugin/templates/plugin/react-editor"target="_blank"><code>react-editor</code></a> plugin template:</p><pre><code>$ npx --yes create-figma-plugin --template plugin/react-editor
</code></pre><h2 id="using-custom-css">Using custom CSS<a aria-hidden class="content__header-link"tabindex="-1"href="#using-custom-css">#</a></h2><p>Out of the box, the <code>build-figma-plugin</code> CLI supports <a href="https://github.com/css-modules/css-modules"target="_blank">CSS Modules</a>:</p><pre><code class="hljs language-css"><span class="hljs-comment">/* src/styles.css */</span>

<span class="hljs-selector-class">.container</span> {
  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">var</span>(--color-silver);
}
</code></pre><pre><code class="hljs language-ts"><span class="hljs-comment">// src/ui.tsx</span>

<span class="hljs-keyword">import</span> { render } <span class="hljs-keyword">from</span> <span class="hljs-string">'@create-figma-plugin/ui'</span>
<span class="hljs-keyword">import</span> { h } <span class="hljs-keyword">from</span> <span class="hljs-string">'preact'</span>
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">'./styles.css'</span>

<span class="hljs-keyword">function</span> <span class="hljs-title hljs-function">Plugin</span> () {
  <span class="hljs-comment">// ...</span>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">{styles.container}</span>></span>
      {/* ... */}
    <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title hljs-function">render</span>(<span class="hljs-title hljs-class">Plugin</span>)
</code></pre><p>By default, all the class names in CSS files imported via an <code>import</code> statement (as in the above example) will be hashed. This is to ensure that <a href="https://github.com/css-modules/css-modules#implementations"target="_blank">each class name is globally unique</a>.</p><p>To directly “inline” a CSS file in your UI <em>without</em> hashing its class names, add a <code>!</code> prefix to the import path:</p><pre><code class="hljs language-ts"><span class="hljs-comment">// src/ui.tsx</span>

<span class="hljs-keyword">import</span> { render } <span class="hljs-keyword">from</span> <span class="hljs-string">'@create-figma-plugin/ui'</span>
<span class="hljs-keyword">import</span> { h } <span class="hljs-keyword">from</span> <span class="hljs-string">'preact'</span>
<span class="hljs-keyword">import</span> <span class="hljs-string">'!./styles.css'</span>

<span class="hljs-keyword">function</span> <span class="hljs-title hljs-function">Plugin</span> () {
  <span class="hljs-comment">// ...</span>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>></span>
      {/* ... */}
    <span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title hljs-function">render</span>(<span class="hljs-title hljs-class">Plugin</span>)
</code></pre><p>Refer to the <a href="https://github.com/yuanqing/create-figma-plugin/blob/main/packages/ui/src/css/base.css"target="_blank"><code>base.css</code></a> file in <code>@create-figma-plugin/ui</code> for the list of CSS variables that are available for use in your custom CSS.</p><h2 id="using-a-custom-ui-library">Using a custom UI library<a aria-hidden class="content__header-link"tabindex="-1"href="#using-a-custom-ui-library">#</a></h2><p>To use a custom UI library instead of <code>@create-figma-plugin/ui</code>, write your UI implementation as follows:</p><pre><code class="hljs language-ts"><span class="hljs-comment">// src/ui.ts</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">rootNode: HTMLElement, data: { greeting: <span class="hljs-built_in">string</span> }</span>) {
  rootNode.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`&#x3C;p><span class="hljs-subst">${data.greeting}</span>&#x3C;/p>`</span> <span class="hljs-comment">//=> &#x3C;p>Hello, World!&#x3C;/p></span>
}
</code></pre><p>The exported function receives two arguments:</p><ul><li><code>rootNode</code> — An empty <code>&#x3C;div></code> element within which you can render your UI.</li><li><code>data</code> — This corresponds to the <code>data</code> object that was passed to <code>showUI</code> from the plugin/widget’s main entry point.</li></ul></div><ul class="pagination"><li class="pagination__previous"><a href="/create-figma-plugin/configuration/">Configuration</a></li><li class="pagination__next"><a href="/create-figma-plugin/utilities/">Utilities</a></li></ul></div></main><script src="/create-figma-plugin/script.js"></script></body></html>